/**
 * pmpsdk v0.0.0
 * Javascript api client for the Public Media Platform
 * https://github.com/publicmediaplatform/pmp-js-sdk
 * Copyright (c) 2014 Public Media Platform (http://pmp.io), Licensed under MIT
 */
!function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e){var r,n,o,i,s;s=t("underscore"),o=t("request"),i=t("./responser"),r=t("../models/base"),n=function(){function t(t){null==t&&(t={}),this._home=null,this._config=s.defaults(t,e)}var e;return e={accept:"application/json",contentType:"application/x-www-form-urlencoded",host:"https://api-pilot.pmp.io",username:null,password:null,debug:!1},t.prototype.home=function(t){return this._home?t(this._home):this._request("get",this._config.host,null,function(e){return function(n){return n.success?(e._home=new r(n.radix),e._home.credList()&&e._home.credCreate()&&e._home.credDestroy()||(n.success=!1,n.status=500,n.message="Home document missing auth token links"),t(e._home)):t(null,n)}}(this))},t.prototype.list=function(t){return this.home(function(e){return function(r,n){return null==n&&(n=null),r?e._request("get",r.credList(),null,function(e){return e.radix&&(e.radix=e.radix.clients),t(e)}):t(n)}}(this))},t.prototype.create=function(t,e,r,n){return null==e&&(e="read"),null==r&&(r=1209600),this.home(function(o){return function(i,s){var a;return null==s&&(s=null),i?(a={label:t,scope:e,token_expires_in:r},o._request("post",i.credCreate(),a,n)):n(s)}}(this))},t.prototype.destroy=function(t,e){return this.home(function(r){return function(n,o){return null==o&&(o=null),n?r._request("delete",n.credDestroy(t),null,e):e(o)}}(this))},t.prototype._request=function(t,e,r,n){var s;return null==r&&(r={}),null==n&&(n=null),"home"===t?n(this._home):(s=this._getRequestParams(t,e,r),s.callback=i.http(n),this._config.debug&&(s.callback=this._debugCallback(s,s.callback)),o(s))},t.prototype._getRequestParams=function(t,e,r){var n,o;return n={method:t.toUpperCase(),url:e,auth:{user:this._config.username,pass:this._config.password},json:!0,headers:{Accept:this._config.accept}},s.isEmpty(r)||(o=s.map(r,function(t,e){return""+encodeURIComponent(e)+"="+encodeURIComponent(t)}),n.body=o.join("&"),n.headers["Content-Type"]=this._config.contentType),n},t.prototype._debugCallback=function(t,e){return function(){return function(r,n,o){return console.log(r?"### ??? - "+t.method+" "+t.url:"### "+n.statusCode+" - "+t.method+" "+t.url),e(r,n,o)}}(this)},t}(),e.exports=n},{"../models/base":4,"./responser":2,request:43,underscore:55}],2:[function(t,e){e.exports={formatResponse:function(t,r,n){return null==t&&(t=200),null==r&&(r=null),null==n&&(n=null),{status:t,success:300>t,message:r||e.exports.statusToMessage(t),radix:"object"==typeof n?n:null}},statusToMessage:function(t){switch(t){case 100:return"Continue";case 101:return"Switching Protocols";case 200:return"OK";case 201:return"Created";case 202:return"Accepted";case 203:return"Non-Authoritative Information";case 204:return"No Content";case 205:return"Reset Content";case 206:return"Partial Content";case 300:return"Multiple Choices";case 301:return"Moved Permanently";case 302:return"Found";case 303:return"See Other";case 304:return"Not Modified";case 305:return"Use Proxy";case 307:return"Temporary Redirect";case 400:return"Bad Request";case 401:return"Unauthorized";case 402:return"Payment Required";case 403:return"Forbidden";case 404:return"Not Found";case 405:return"Method Not Allowed";case 406:return"Not Acceptable";case 407:return"Proxy Authentication Required";case 408:return"Request Time-out";case 409:return"Conflict";case 410:return"Gone";case 411:return"Length Required";case 412:return"Precondition Failed";case 413:return"Request Entity Too Large";case 414:return"Request-URI Too Large";case 415:return"Unsupported Media Type";case 416:return"Requested range not satisfiable";case 417:return"Expectation Failed";case 500:return"Internal Server Error";case 501:return"Not Implemented";case 502:return"Bad Gateway";case 503:return"Service Unavailable";case 504:return"Gateway Time-out";case 505:return"HTTP Version not supported";default:return"Unknown"}},http:function(t){return null==t&&(t=null),function(r,n,o){return t?t(r?e.exports.formatResponse(500,"Unknown error"):e.exports.formatResponse(n.statusCode,null,o)):void 0}},error:function(t,r){return null==r&&(r=null),r(e.exports.formatResponse(500,t))}}},{}],3:[function(t,e){var r,n,o,i,s;s=t("underscore"),o=t("request"),i=t("./responser"),r=t("../models/base"),n=function(){function t(t){null==t&&(t={}),this._home=null,this._queue=[],this._token=null,this._fetchingToken=!1,this._config=s.defaults(t,e),this._authenticate()}var e;return e={accept:"application/json",contenttype:"application/vnd.collection.doc+json",host:"https://api-pilot.pmp.io",clientid:null,clientsecret:null,debug:!1},t.prototype.home=function(t){return this._requestOrQueue("home",null,null,t)},t.prototype.get=function(t,e){return this._requestOrQueue("get",t,null,e)},t.prototype.post=function(t,e,r){return this._requestOrQueue("post",t,{body:JSON.stringify(e),headers:{"Content-Type":this._config.contenttype}},r)},t.prototype.put=function(t,e,r){return this._requestOrQueue("put",t,{body:JSON.stringify(e),headers:{"Content-Type":this._config.contenttype}},r)},t.prototype.del=function(t,e){return this._requestOrQueue("delete",t,null,e)},t.prototype._request=function(t,e,r,n){return null==r&&(r={}),null==n&&(n=null),"home"===t?n(this._home):(r=this._getRequestParams(t,e,r),r.callback=i.http(n),this._config.debug&&(r.callback=this._debugCallback(r,r.callback)),o(r))},t.prototype._getRequestParams=function(t,e,r){return r.method=t.toUpperCase(),r.url=e,r.auth===!1?delete r.auth:r.auth=this._token?{bearer:this._token}:{user:this._config.clientid,pass:this._config.clientsecret},r.json=!0,r.headers=s.defaults(r.headers||{},{Accept:this._config.accept}),r},t.prototype._retryCallback=function(t,e){return function(r){return function(n){return 401===n.status?(r._queue.push(t),r._authenticate()):e(n)}}(this)},t.prototype._debugCallback=function(t,e){return function(){return function(r,n,o){return console.log(r?"### ??? - "+t.method+" "+t.url:"### "+n.statusCode+" - "+t.method+" "+t.url),e(r,n,o)}}(this)},t.prototype._requestOrQueue=function(t,e,r,n){return null==r&&(r={}),null==n&&(n=null),this._token?this._request(t,e,r,this._retryCallback(arguments,n)):(this._queue.push(arguments),this._authenticate())},t.prototype._clearQueue=function(t){var e,r;for(null==t&&(t=null),r=[];this._queue.length>0;)e=this._queue.shift(),r.push(t?"home"===s.first(e)?s.last(e)(this._home):s.last(e)(t):this._request.apply(this,e));return r},t.prototype._authenticate=function(){return this._fetchingToken?void 0:(this._token=null,this._fetchingToken=!0,this._fetchHome(function(t){return function(e){return e.success?t._fetchToken(function(e){return t._fetchingToken=!1,e.success?(t._token=e.radix.access_token,t._clearQueue()):t._clearQueue(e)}):(t._fetchingToken=!1,t._clearQueue(e))}}(this)))},t.prototype._fetchToken=function(t){var e;return e={headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=client_credentials"},this._request("post",this._home.authCreate(),e,t)},t.prototype._fetchHome=function(t){return this._request("get",this._config.host,{auth:!1},function(e){return function(n){return n.success&&(e._home=new r(n.radix),e._home.authCreate()||(n.success=!1,n.status=500,n.message="Home document missing auth token issue link")),t(n)}}(this))},t}(),e.exports=n},{"../models/base":4,"./responser":2,request:43,underscore:55}],4:[function(t,e){var r,n,o;o=t("underscore"),n=t("uri-template"),r=function(){function t(t){null==t&&(t={}),this.setData(t)}return t.prototype.className="BaseDocument",t.prototype.setData=function(t){return this.version=t.version||"1.0",this.href=t.href||null,this.attributes=o.clone(t.attributes||{}),this.links=o.clone(t.links||{}),this.items=o.clone(t.items||[])},t.prototype.findLink=function(t){var e;return e=null,o.find(this.links,function(r){return e=o.find(r,function(e){return o.contains(e.rels,t)})}),e||null},t.prototype.findHref=function(t){var e;return(e=this.findLink(t))?e.href||e["href-template"]:null},t.prototype.findTpl=function(t,e){var r;return(r=this.findHref(t))?n.parse(r).expand(e):null},t.prototype.findProfileHref=function(){return this.links.profile&&this.links.profile.length>0?this.links.profile[0].href:null},t.prototype.credList=function(){return this.authCreate().replace(/\/auth\/.*/,"/auth/credentials")},t.prototype.credCreate=function(){return this.authDestroy().replace(/\/auth\/.*/,"/auth/credentials")},t.prototype.credDestroy=function(t){return this.authDestroy().replace(/\/auth\/.*/,"/auth/credentials/"+t)},t.prototype.authCreate=function(){return this.findHref("urn:collectiondoc:form:issuetoken")},t.prototype.authDestroy=function(){return this.findHref("urn:collectiondoc:form:revoketoken")},t.prototype.guidGenerate=function(){return this.findHref("urn:collectiondoc:query:guids")},t.prototype.docFetch=function(t){return this.findTpl("urn:collectiondoc:hreftpl:docs",{guid:t})},t.prototype.docUpdate=function(t){return this.findTpl("urn:collectiondoc:form:documentsave",{guid:t})},t.prototype.docQuery=function(t){return this.findTpl("urn:collectiondoc:query:docs",t)},t.prototype.profileFetch=function(t){return this.findTpl("urn:collectiondoc:hreftpl:profiles",{guid:t})},t.prototype.profileUpdate=function(t){return this.findTpl("urn:collectiondoc:form:profilesave",{guid:t})},t.prototype.profileQuery=function(t){return this.findTpl("urn:collectiondoc:query:profiles",t)},t.prototype.schemaFetch=function(t){return this.findTpl("urn:collectiondoc:hreftpl:schemas",{guid:t})},t.prototype.schemaUpdate=function(t){return this.findTpl("urn:collectiondoc:form:schemasave",{guid:t})},t.prototype.schemaQuery=function(t){return this.findTpl("urn:collectiondoc:query:schemas",t).replace("/users","/schemas")},t.prototype.uploadCreate=function(){return this.findHref("urn:collectiondoc:form:mediaupload")},t.prototype.groupQuery=function(t){return this.findTpl("urn:collectiondoc:query:groups",t)},t.prototype.userQuery=function(t){return this.findTpl("urn:collectiondoc:query:users",t)},t}(),e.exports=r},{underscore:55,"uri-template":56}],5:[function(t,e){var r,n,o,i,s,a={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=t("underscore"),o=t("Guid"),r=t("./base"),i=t("../lib/responser"),n=function(t){function e(t,r){null==r&&(r={}),this._syncer=t,e.__super__.constructor.call(this,r)}return u(e,t),e.prototype.className="Document",e.prototype.createMaxRequests=30,e.prototype.createDelayMS=1e3,e.load=function(t,e,r){return t.get(e,function(e){return function(n){var o;return n.success?(o=new e(t,n.radix),r(o,n)):r(null,n)}}(this))},e.prototype.refresh=function(t){return syncer.get(this.href,function(e){return function(r){return r.success?(e.setData(r.radix),t(e,r)):(e.setData(null),t(null,r))}}(this))},e.prototype.setData=function(t){return e.__super__.setData.call(this,t),this.items=s.map(this.items,function(t){return function(r){return new e(t._syncer,r)}}(this))},e.prototype.followLink=function(t,e){var r;return s.isObject(t)?this.constructor.load(this._syncer,t.href,e):(r=this.findHref(t))?this.constructor.load(this._syncer,r,e):e(null,i.error("Unknown link: "+t))},e.prototype.save=function(t,e){return null==e&&(e=!1),this._syncer.home(function(r){return function(n){var i;return r.attributes.guid||(r.attributes.guid=o.raw()),r.href||(r.href=n.docFetch(r.attributes.guid)),i={version:r.version,attributes:r.attributes,links:r.links},r._syncer.put(n.docUpdate(r.attributes.guid),i,function(n){return n.success?202===n.status&&e===!0?r._pollForDocument(r.href,t):(202!==n.status&&r.setData(n.radix),t(r,n)):t(null,n)})}}(this))},e.prototype.destroy=function(t){return this._syncer.home(function(e){return function(r){return e._syncer.del(r.docUpdate(e.attributes.guid),function(r){return r.success?(e.href=null,e.attributes.guid=null,t(e,r)):t(null,r)})}}(this))},e.prototype._pollForDocument=function(t,e,r){return null==r&&(r=1),r>this.createMaxRequests?e(this,i.formatResponse(202,"Exceeded "+this.createMaxRequests+" max request for: "+t)):this._syncer.get(t,function(n){return function(o){var i;return o.success?(n.setData(o.radix),e(n,o)):(i=s.bind(n._pollForDocument,n),s.delay(i,n.createDelayMS,t,e,r+1))}}(this))},e}(r),e.exports=n},{"../lib/responser":2,"./base":4,Guid:8,underscore:55}],6:[function(t,e){var r,n,o,i={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=t("./document"),o=t("url"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.className="Query",e.createEmpty=function(t,r){var n;return n={href:r,links:{navigation:[{href:r,rels:["self"],totalitems:0,totalpages:0,pagenum:1}]},items:[]},new e(t,n)},e.load=function(t,r,n){return t.get(r,function(o){return function(i){var s;return i.success?(s=new o(t,i.radix),n(s,i)):404===i.status?(s=e.createEmpty(t,r),n(s,i)):n(null,i)}}(this))},e.prototype.setData=function(t){return e.__super__.setData.call(this,t),this.href?this.params=o.parse(this.href,!0).query:void 0},e.prototype.total=function(){return this.findLink("self").totalitems||0},e.prototype.pages=function(){return this.findLink("self").totalpages||0},e.prototype.pageNum=function(){return this.findLink("self").pagenum||0},e.prototype.prev=function(t){return this.followLink("prev",t)},e.prototype.next=function(t){return this.followLink("next",t)},e.prototype.first=function(t){return this.followLink("first",t)},e.prototype.last=function(t){return this.followLink("last",t)},e}(r),e.exports=n},{"./document":5,url:40}],7:[function(t,e){var r,n,o,i,s,a;a=t("underscore"),r=t("./lib/creds"),s=t("./lib/syncer"),n=t("./models/document"),i=t("./models/query"),o=function(){function t(t){null==t&&(t={}),this.config=t,this.sync=new s(t)}return t.prototype.credList=function(t,e,n){var o;return o=new r({username:t,password:e,host:this.config.host,debug:this.config.debug}),o.list(n)},t.prototype.credCreate=function(t,e,n,o,i,s){var a;return null==o&&(o="read"),null==i&&(i=1209600),a=new r({username:t,password:e,host:this.config.host,debug:this.config.debug}),a.create(n,o,i,s)},t.prototype.credDestroy=function(t,e,n,o){var i;return i=new r({username:t,password:e,host:this.config.host,debug:this.config.debug}),i.destroy(n,o)},t.prototype.fetchDoc=function(t,e){return this.sync.home(function(r){return function(o){return n.load(r.sync,o.docFetch(t),e)}}(this))},t.prototype.fetchProfile=function(t,e){return this.sync.home(function(r){return function(o){return n.load(r.sync,o.profileFetch(t),e)}}(this))},t.prototype.fetchSchema=function(t,e){return this.sync.home(function(r){return function(o){return n.load(r.sync,o.schemaFetch(t),e)}}(this))},t.prototype.queryDocs=function(t,e){return this.sync.home(function(r){return function(n){return i.load(r.sync,n.docQuery(t),e)}}(this))},t.prototype.queryGroups=function(t,e){return this.sync.home(function(r){return function(n){return i.load(r.sync,n.groupQuery(t),e)}}(this))},t.prototype.queryProfiles=function(t,e){return this.sync.home(function(r){return function(n){return i.load(r.sync,n.profileQuery(t),e)}}(this))},t.prototype.querySchemas=function(t,e){return this.sync.home(function(r){return function(n){return i.load(r.sync,n.schemaQuery(t),e)}}(this))},t.prototype.queryUsers=function(t,e){return this.sync.home(function(r){return function(n){return i.load(r.sync,n.userQuery(t),e)}}(this))},t.prototype.createDoc=function(t,e,r){return this.fetchProfile(t,function(t){return function(o,i){var s,a;return i.success?(s={attributes:e,links:{profile:[{href:o.href}]}},a=new n(t.sync,s),a.save(r,!1)):r(null,i)}}(this))},t.prototype.createProfile=function(){},t.prototype.createSchema=function(){},t.prototype.createUpload=function(){},t.prototype.createUser=function(t,e,r,o){var i,s;return i={attributes:{title:t,address:[],pingbacks:{},auth:{user:e,password:r,clients:[]}},links:{profile:[{href:""+this.config.host+"/profiles/user"}]}},s=new n(this.sync,i),s.save(o,!0)},t}(),e.exports=o},{"./lib/creds":1,"./lib/syncer":3,"./models/document":5,"./models/query":6,underscore:55}],8:[function(t,e){!function(){function t(t){for(var e="",r=0;t>r;r++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e}function r(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=r.EMPTY,t&&t instanceof r?this.value=t.toString():t&&"[object String]"===Object.prototype.toString.call(t)&&r.isGuid(t)&&(this.value=t),this.equals=function(t){return r.isGuid(t)&&this.value==t},this.isEmpty=function(){return this.value===r.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}var n=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");r.EMPTY="00000000-0000-0000-0000-000000000000",r.isGuid=function(t){return t&&(t instanceof r||n.test(t.toString()))},r.create=function(){return new r([t(2),t(1),t(1),t(1),t(3)].join("-"))},r.raw=function(){return[t(2),t(1),t(1),t(1),t(3)].join("-")},"undefined"!=typeof e&&e.exports?e.exports=r:"undefined"!=typeof window&&(window.Guid=r)}()},{}],9:[function(){},{}],10:[function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);var o=typeof t;if("base64"===e&&"string"===o)for(t=C(t);t.length%4!==0;)t+="=";var i;if("number"===o)i=O(t);else if("string"===o)i=n.byteLength(t,e);else{if("object"!==o)throw new Error("First argument needs to be a number, array or string.");i=O(t.length)}var s;n._useTypedArrays?s=n._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var a;if(n._useTypedArrays&&"number"==typeof t.byteLength)s._set(t);else if(T(t))for(a=0;i>a;a++)s[a]=n.isBuffer(t)?t.readUInt8(a):t[a];else if("string"===o)s.write(t,0,e);else if("number"===o&&!n._useTypedArrays&&!r)for(a=0;i>a;a++)s[a]=0;return s}function o(t,e,r,o){r=Number(r)||0;var i=t.length-r;o?(o=Number(o),o>i&&(o=i)):o=i;var s=e.length;z(s%2===0,"Invalid hex string"),o>s/2&&(o=s/2);for(var a=0;o>a;a++){var u=parseInt(e.substr(2*a,2),16);z(!isNaN(u),"Invalid hex string"),t[r+a]=u}return n._charsWritten=2*a,a}function i(t,e,r,o){var i=n._charsWritten=B(I(e),t,r,o);return i}function s(t,e,r,o){var i=n._charsWritten=B(M(e),t,r,o);return i}function a(t,e,r,n){return s(t,e,r,n)}function u(t,e,r,o){var i=n._charsWritten=B(H(e),t,r,o);return i}function c(t,e,r,o){var i=n._charsWritten=B(U(e),t,r,o);return i}function l(t,e,r){return G.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function h(t,e,r){var n="",o="";r=Math.min(t.length,r);for(var i=e;r>i;i++)t[i]<=127?(n+=D(o)+String.fromCharCode(t[i]),o=""):o+="%"+t[i].toString(16);return n+D(o)}function f(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;r>o;o++)n+=String.fromCharCode(t[o]);return n}function p(t,e,r){return f(t,e,r)}function d(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var o="",i=e;r>i;i++)o+=R(t[i]);return o}function g(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function y(t,e,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i;return r?(i=t[e],o>e+1&&(i|=t[e+1]<<8)):(i=t[e]<<8,o>e+1&&(i|=t[e+1])),i}}function m(t,e,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i;return r?(o>e+2&&(i=t[e+2]<<16),o>e+1&&(i|=t[e+1]<<8),i|=t[e],o>e+3&&(i+=t[e+3]<<24>>>0)):(o>e+1&&(i=t[e+1]<<16),o>e+2&&(i|=t[e+2]<<8),o>e+3&&(i|=t[e+3]),i+=t[e]<<24>>>0),i}}function v(t,e,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i=y(t,e,r,!0),s=32768&i;return s?-1*(65535-i+1):i}}function b(t,e,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i=m(t,e,r,!0),s=2147483648&i;return s?-1*(4294967295-i+1):i}}function w(t,e,r,n){return n||(z("boolean"==typeof r,"missing or invalid endian"),z(e+3<t.length,"Trying to read beyond buffer length")),W.read(t,e,r,23,4)}function _(t,e,r,n){return n||(z("boolean"==typeof r,"missing or invalid endian"),z(e+7<t.length,"Trying to read beyond buffer length")),W.read(t,e,r,52,8)}function x(t,e,r,n,o){o||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+1<t.length,"trying to write beyond buffer length"),N(e,65535));var i=t.length;if(!(r>=i))for(var s=0,a=Math.min(i-r,2);a>s;s++)t[r+s]=(e&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function k(t,e,r,n,o){o||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+3<t.length,"trying to write beyond buffer length"),N(e,4294967295));var i=t.length;if(!(r>=i))for(var s=0,a=Math.min(i-r,4);a>s;s++)t[r+s]=e>>>8*(n?s:3-s)&255}function E(t,e,r,n,o){o||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+1<t.length,"Trying to write beyond buffer length"),P(e,32767,-32768));var i=t.length;r>=i||(e>=0?x(t,e,r,n,o):x(t,65535+e+1,r,n,o))}function S(t,e,r,n,o){o||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+3<t.length,"Trying to write beyond buffer length"),P(e,2147483647,-2147483648));var i=t.length;r>=i||(e>=0?k(t,e,r,n,o):k(t,4294967295+e+1,r,n,o))}function j(t,e,r,n,o){o||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+3<t.length,"Trying to write beyond buffer length"),F(e,3.4028234663852886e38,-3.4028234663852886e38));var i=t.length;r>=i||W.write(t,e,r,n,23,4)}function A(t,e,r,n,o){o||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+7<t.length,"Trying to write beyond buffer length"),F(e,1.7976931348623157e308,-1.7976931348623157e308));var i=t.length;r>=i||W.write(t,e,r,n,52,8)}function C(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t,e,r){return"number"!=typeof t?r:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function O(t){return t=~~Math.ceil(+t),0>t?0:t}function L(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function T(t){return L(t)||n.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function R(t){return 16>t?"0"+t.toString(16):t.toString(16)}function I(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(127>=n)e.push(t.charCodeAt(r));else{var o=r;n>=55296&&57343>=n&&r++;for(var i=encodeURIComponent(t.slice(o,r+1)).substr(1).split("%"),s=0;s<i.length;s++)e.push(parseInt(i[s],16))}}return e}function M(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function U(t){for(var e,r,n,o=[],i=0;i<t.length;i++)e=t.charCodeAt(i),r=e>>8,n=e%256,o.push(n),o.push(r);return o}function H(t){return G.toByteArray(t)}function B(t,e,r,n){for(var o=0;n>o&&!(o+r>=e.length||o>=t.length);o++)e[o+r]=t[o];return o}function D(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function N(t,e){z("number"==typeof t,"cannot write a non-number as a number"),z(t>=0,"specified a negative value for writing an unsigned value"),z(e>=t,"value is larger than maximum value for type"),z(Math.floor(t)===t,"value has a fractional component")}function P(t,e,r){z("number"==typeof t,"cannot write a non-number as a number"),z(e>=t,"value larger than maximum allowed value"),z(t>=r,"value smaller than minimum allowed value"),z(Math.floor(t)===t,"value has a fractional component")}function F(t,e,r){z("number"==typeof t,"cannot write a non-number as a number"),z(e>=t,"value larger than maximum allowed value"),z(t>=r,"value smaller than minimum allowed value")}function z(t,e){if(!t)throw new Error(e||"Failed assertion")}var G=t("base64-js"),W=t("ieee754");r.Buffer=n,r.SlowBuffer=n,r.INSPECT_MAX_BYTES=50,n.poolSize=8192,n._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(r){return!1}}(),n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},n.byteLength=function(t,e){var r;switch(t+="",e||"utf8"){case"hex":r=t.length/2;break;case"utf8":case"utf-8":r=I(t).length;break;case"ascii":case"binary":case"raw":r=t.length;break;case"base64":r=H(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*t.length;break;default:throw new Error("Unknown encoding")}return r},n.concat=function(t,e){if(z(L(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new n(0);if(1===t.length)return t[0];var r;if("number"!=typeof e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var o=new n(e),i=0;for(r=0;r<t.length;r++){var s=t[r];s.copy(o,i),i+=s.length}return o},n.prototype.write=function(t,e,r,n){if(isFinite(e))isFinite(r)||(n=r,r=void 0);else{var l=n;n=e,e=r,r=l}e=Number(e)||0;var h=this.length-e;r?(r=Number(r),r>h&&(r=h)):r=h,n=String(n||"utf8").toLowerCase();var f;switch(n){case"hex":f=o(this,t,e,r);break;case"utf8":case"utf-8":f=i(this,t,e,r);break;case"ascii":f=s(this,t,e,r);break;case"binary":f=a(this,t,e,r);break;case"base64":f=u(this,t,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=c(this,t,e,r);break;default:throw new Error("Unknown encoding")}return f},n.prototype.toString=function(t,e,r){var n=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,r=void 0!==r?Number(r):r=n.length,r===e)return"";var o;switch(t){case"hex":o=d(n,e,r);break;case"utf8":case"utf-8":o=h(n,e,r);break;case"ascii":o=f(n,e,r);break;case"binary":o=p(n,e,r);break;case"base64":o=l(n,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=g(n,e,r);break;default:throw new Error("Unknown encoding")}return o},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.copy=function(t,e,r,o){var i=this;if(r||(r=0),o||0===o||(o=this.length),e||(e=0),o!==r&&0!==t.length&&0!==i.length){z(o>=r,"sourceEnd < sourceStart"),z(e>=0&&e<t.length,"targetStart out of bounds"),z(r>=0&&r<i.length,"sourceStart out of bounds"),z(o>=0&&o<=i.length,"sourceEnd out of bounds"),o>this.length&&(o=this.length),t.length-e<o-r&&(o=t.length-e+r);var s=o-r;if(100>s||!n._useTypedArrays)for(var a=0;s>a;a++)t[a+e]=this[a+r];else t._set(this.subarray(r,r+s),e)}},n.prototype.slice=function(t,e){var r=this.length;if(t=q(t,r,0),e=q(e,r,r),n._useTypedArrays)return n._augment(this.subarray(t,e));for(var o=e-t,i=new n(o,void 0,!0),s=0;o>s;s++)i[s]=this[s+t];return i},n.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},n.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},n.prototype.readUInt8=function(t,e){return e||(z(void 0!==t&&null!==t,"missing offset"),z(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},n.prototype.readUInt16LE=function(t,e){return y(this,t,!0,e)},n.prototype.readUInt16BE=function(t,e){return y(this,t,!1,e)},n.prototype.readUInt32LE=function(t,e){return m(this,t,!0,e)},n.prototype.readUInt32BE=function(t,e){return m(this,t,!1,e)},n.prototype.readInt8=function(t,e){if(e||(z(void 0!==t&&null!==t,"missing offset"),z(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var r=128&this[t];return r?-1*(255-this[t]+1):this[t]}},n.prototype.readInt16LE=function(t,e){return v(this,t,!0,e)},n.prototype.readInt16BE=function(t,e){return v(this,t,!1,e)},n.prototype.readInt32LE=function(t,e){return b(this,t,!0,e)},n.prototype.readInt32BE=function(t,e){return b(this,t,!1,e)},n.prototype.readFloatLE=function(t,e){return w(this,t,!0,e)},n.prototype.readFloatBE=function(t,e){return w(this,t,!1,e)},n.prototype.readDoubleLE=function(t,e){return _(this,t,!0,e)},n.prototype.readDoubleBE=function(t,e){return _(this,t,!1,e)},n.prototype.writeUInt8=function(t,e,r){r||(z(void 0!==t&&null!==t,"missing value"),z(void 0!==e&&null!==e,"missing offset"),z(e<this.length,"trying to write beyond buffer length"),N(t,255)),e>=this.length||(this[e]=t)},n.prototype.writeUInt16LE=function(t,e,r){x(this,t,e,!0,r)},n.prototype.writeUInt16BE=function(t,e,r){x(this,t,e,!1,r)},n.prototype.writeUInt32LE=function(t,e,r){k(this,t,e,!0,r)},n.prototype.writeUInt32BE=function(t,e,r){k(this,t,e,!1,r)},n.prototype.writeInt8=function(t,e,r){r||(z(void 0!==t&&null!==t,"missing value"),z(void 0!==e&&null!==e,"missing offset"),z(e<this.length,"Trying to write beyond buffer length"),P(t,127,-128)),e>=this.length||(t>=0?this.writeUInt8(t,e,r):this.writeUInt8(255+t+1,e,r))},n.prototype.writeInt16LE=function(t,e,r){E(this,t,e,!0,r)},n.prototype.writeInt16BE=function(t,e,r){E(this,t,e,!1,r)},n.prototype.writeInt32LE=function(t,e,r){S(this,t,e,!0,r)},n.prototype.writeInt32BE=function(t,e,r){S(this,t,e,!1,r)},n.prototype.writeFloatLE=function(t,e,r){j(this,t,e,!0,r)},n.prototype.writeFloatBE=function(t,e,r){j(this,t,e,!1,r)},n.prototype.writeDoubleLE=function(t,e,r){A(this,t,e,!0,r)},n.prototype.writeDoubleBE=function(t,e,r){A(this,t,e,!1,r)},n.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),z("number"==typeof t&&!isNaN(t),"value is not a number"),z(r>=e,"end < start"),r!==e&&0!==this.length){z(e>=0&&e<this.length,"start out of bounds"),z(r>=0&&r<=this.length,"end out of bounds");for(var n=e;r>n;n++)this[n]=t}},n.prototype.inspect=function(){for(var t=[],e=this.length,n=0;e>n;n++)if(t[n]=R(this[n]),n===r.INSPECT_MAX_BYTES){t[n+1]="...";break}return"<Buffer "+t.join(" ")+">"},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n._useTypedArrays)return new n(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var Z=n.prototype;n._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=Z.get,t.set=Z.set,t.write=Z.write,t.toString=Z.toString,t.toLocaleString=Z.toString,t.toJSON=Z.toJSON,t.copy=Z.copy,t.slice=Z.slice,t.readUInt8=Z.readUInt8,t.readUInt16LE=Z.readUInt16LE,t.readUInt16BE=Z.readUInt16BE,t.readUInt32LE=Z.readUInt32LE,t.readUInt32BE=Z.readUInt32BE,t.readInt8=Z.readInt8,t.readInt16LE=Z.readInt16LE,t.readInt16BE=Z.readInt16BE,t.readInt32LE=Z.readInt32LE,t.readInt32BE=Z.readInt32BE,t.readFloatLE=Z.readFloatLE,t.readFloatBE=Z.readFloatBE,t.readDoubleLE=Z.readDoubleLE,t.readDoubleBE=Z.readDoubleBE,t.writeUInt8=Z.writeUInt8,t.writeUInt16LE=Z.writeUInt16LE,t.writeUInt16BE=Z.writeUInt16BE,t.writeUInt32LE=Z.writeUInt32LE,t.writeUInt32BE=Z.writeUInt32BE,t.writeInt8=Z.writeInt8,t.writeInt16LE=Z.writeInt16LE,t.writeInt16BE=Z.writeInt16BE,t.writeInt32LE=Z.writeInt32LE,t.writeInt32BE=Z.writeInt32BE,t.writeFloatLE=Z.writeFloatLE,t.writeFloatBE=Z.writeFloatBE,t.writeDoubleLE=Z.writeDoubleLE,t.writeDoubleBE=Z.writeDoubleBE,t.fill=Z.fill,t.inspect=Z.inspect,t.toArrayBuffer=Z.toArrayBuffer,t
}},{"base64-js":11,ieee754:12}],11:[function(t,e,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===a?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function r(t){function r(t){c[h++]=t}var n,o,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new i(3*t.length/4-u),s=u>0?t.length-4:t.length;var h=0;for(n=0,o=0;s>n;n+=4,o+=3)a=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&a)>>16),r((65280&a)>>8),r(255&a);return 2===u?(a=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&a)):1===u&&(a=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(a>>8&255),r(255&a)),c}function o(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,i,s,a=t.length%3,u="";for(o=0,s=t.length-a;s>o;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],u+=r(i);switch(a){case 1:i=t[t.length-1],u+=e(i>>2),u+=e(i<<4&63),u+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],u+=e(i>>10),u+=e(i>>4&63),u+=e(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0);t.toByteArray=r,t.fromByteArray=o}("undefined"==typeof r?this.base64js={}:r)},{}],12:[function(t,e,r){r.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?o-1:0,f=r?-1:1,p=t[e+h];for(h+=f,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+t[e+h],h+=f,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,n),i-=c}return(p?-1:1)*s*Math.pow(2,i-n)},r.write=function(t,e,r,n,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,h=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*g}},{}],13:[function(t,e){function r(t,e){if(t.length%s!==0){var r=t.length+(s-t.length%s);t=i.concat([t,a],r)}for(var n=[],o=e?t.readInt32BE:t.readInt32LE,u=0;u<t.length;u+=s)n.push(o.call(t,u));return n}function n(t,e,r){for(var n=new i(e),o=r?n.writeInt32BE:n.writeInt32LE,s=0;s<t.length;s++)o.call(n,t[s],4*s,!0);return n}function o(t,e,o,s){i.isBuffer(t)||(t=new i(t));var a=e(r(t,s),t.length*u);return n(a,o,s)}var i=t("buffer").Buffer,s=4,a=new i(s);a.fill(0);var u=8;e.exports={hash:o}},{buffer:10}],14:[function(t,e,r){function n(t,e,r){a.isBuffer(e)||(e=new a(e)),a.isBuffer(r)||(r=new a(r)),e.length>p?e=t(e):e.length<p&&(e=a.concat([e,d],p));for(var n=new a(p),o=new a(p),i=0;p>i;i++)n[i]=54^e[i],o[i]=92^e[i];var s=t(a.concat([n,r]));return t(a.concat([o,s]))}function o(t,e){t=t||"sha1";var r=f[t],o=[],s=0;return r||i("algorithm:",t,"is not yet supported"),{update:function(t){return a.isBuffer(t)||(t=new a(t)),o.push(t),s+=t.length,this},digest:function(t){var i=a.concat(o),s=e?n(r,e,i):r(i);return o=null,t?s.toString(t):s}}}function i(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function s(t,e){for(var r in t)e(t[r],r)}var a=t("buffer").Buffer,u=t("./sha"),c=t("./sha256"),l=t("./rng"),h=t("./md5"),f={sha1:u,sha256:c,md5:h},p=64,d=new a(p);d.fill(0),r.createHash=function(t){return o(t)},r.createHmac=function(t,e){return o(t,e)},r.randomBytes=function(t,e){if(!e||!e.call)return new a(l(t));try{e.call(this,void 0,new a(l(t)))}catch(r){e(r)}},s(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(t){r[t]=function(){i("sorry,",t,"is not implemented yet")}})},{"./md5":15,"./rng":16,"./sha":17,"./sha256":18,buffer:10}],15:[function(t,e){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,c=-1732584194,l=271733878,h=0;h<t.length;h+=16){var f=r,p=n,d=c,g=l;r=o(r,n,c,l,t[h+0],7,-680876936),l=o(l,r,n,c,t[h+1],12,-389564586),c=o(c,l,r,n,t[h+2],17,606105819),n=o(n,c,l,r,t[h+3],22,-1044525330),r=o(r,n,c,l,t[h+4],7,-176418897),l=o(l,r,n,c,t[h+5],12,1200080426),c=o(c,l,r,n,t[h+6],17,-1473231341),n=o(n,c,l,r,t[h+7],22,-45705983),r=o(r,n,c,l,t[h+8],7,1770035416),l=o(l,r,n,c,t[h+9],12,-1958414417),c=o(c,l,r,n,t[h+10],17,-42063),n=o(n,c,l,r,t[h+11],22,-1990404162),r=o(r,n,c,l,t[h+12],7,1804603682),l=o(l,r,n,c,t[h+13],12,-40341101),c=o(c,l,r,n,t[h+14],17,-1502002290),n=o(n,c,l,r,t[h+15],22,1236535329),r=i(r,n,c,l,t[h+1],5,-165796510),l=i(l,r,n,c,t[h+6],9,-1069501632),c=i(c,l,r,n,t[h+11],14,643717713),n=i(n,c,l,r,t[h+0],20,-373897302),r=i(r,n,c,l,t[h+5],5,-701558691),l=i(l,r,n,c,t[h+10],9,38016083),c=i(c,l,r,n,t[h+15],14,-660478335),n=i(n,c,l,r,t[h+4],20,-405537848),r=i(r,n,c,l,t[h+9],5,568446438),l=i(l,r,n,c,t[h+14],9,-1019803690),c=i(c,l,r,n,t[h+3],14,-187363961),n=i(n,c,l,r,t[h+8],20,1163531501),r=i(r,n,c,l,t[h+13],5,-1444681467),l=i(l,r,n,c,t[h+2],9,-51403784),c=i(c,l,r,n,t[h+7],14,1735328473),n=i(n,c,l,r,t[h+12],20,-1926607734),r=s(r,n,c,l,t[h+5],4,-378558),l=s(l,r,n,c,t[h+8],11,-2022574463),c=s(c,l,r,n,t[h+11],16,1839030562),n=s(n,c,l,r,t[h+14],23,-35309556),r=s(r,n,c,l,t[h+1],4,-1530992060),l=s(l,r,n,c,t[h+4],11,1272893353),c=s(c,l,r,n,t[h+7],16,-155497632),n=s(n,c,l,r,t[h+10],23,-1094730640),r=s(r,n,c,l,t[h+13],4,681279174),l=s(l,r,n,c,t[h+0],11,-358537222),c=s(c,l,r,n,t[h+3],16,-722521979),n=s(n,c,l,r,t[h+6],23,76029189),r=s(r,n,c,l,t[h+9],4,-640364487),l=s(l,r,n,c,t[h+12],11,-421815835),c=s(c,l,r,n,t[h+15],16,530742520),n=s(n,c,l,r,t[h+2],23,-995338651),r=a(r,n,c,l,t[h+0],6,-198630844),l=a(l,r,n,c,t[h+7],10,1126891415),c=a(c,l,r,n,t[h+14],15,-1416354905),n=a(n,c,l,r,t[h+5],21,-57434055),r=a(r,n,c,l,t[h+12],6,1700485571),l=a(l,r,n,c,t[h+3],10,-1894986606),c=a(c,l,r,n,t[h+10],15,-1051523),n=a(n,c,l,r,t[h+1],21,-2054922799),r=a(r,n,c,l,t[h+8],6,1873313359),l=a(l,r,n,c,t[h+15],10,-30611744),c=a(c,l,r,n,t[h+6],15,-1560198380),n=a(n,c,l,r,t[h+13],21,1309151649),r=a(r,n,c,l,t[h+4],6,-145523070),l=a(l,r,n,c,t[h+11],10,-1120210379),c=a(c,l,r,n,t[h+2],15,718787259),n=a(n,c,l,r,t[h+9],21,-343485551),r=u(r,f),n=u(n,p),c=u(c,d),l=u(l,g)}return Array(r,n,c,l)}function n(t,e,r,n,o,i){return u(c(u(u(e,t),u(n,i)),o),r)}function o(t,e,r,o,i,s,a){return n(e&r|~e&o,t,e,i,s,a)}function i(t,e,r,o,i,s,a){return n(e&o|r&~o,t,e,i,s,a)}function s(t,e,r,o,i,s,a){return n(e^r^o,t,e,i,s,a)}function a(t,e,r,o,i,s,a){return n(r^(e|~o),t,e,i,s,a)}function u(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r}function c(t,e){return t<<e|t>>>32-e}var l=t("./helpers");e.exports=function(t){return l.hash(t,r,16)}},{"./helpers":13}],16:[function(t,e){!function(){var t,r,n=this;t=function(t){for(var e,e,r=new Array(t),n=0;t>n;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r},n.crypto&&crypto.getRandomValues&&(r=function(t){var e=new Uint8Array(t);return crypto.getRandomValues(e),e}),e.exports=r||t}()},{}],17:[function(t,e){function r(t,e){t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var r=Array(80),a=1732584193,u=-271733879,c=-1732584194,l=271733878,h=-1009589776,f=0;f<t.length;f+=16){for(var p=a,d=u,g=c,y=l,m=h,v=0;80>v;v++){r[v]=16>v?t[f+v]:s(r[v-3]^r[v-8]^r[v-14]^r[v-16],1);var b=i(i(s(a,5),n(v,u,c,l)),i(i(h,r[v]),o(v)));h=l,l=c,c=s(u,30),u=a,a=b}a=i(a,p),u=i(u,d),c=i(c,g),l=i(l,y),h=i(h,m)}return Array(a,u,c,l,h)}function n(t,e,r,n){return 20>t?e&r|~e&n:40>t?e^r^n:60>t?e&r|e&n|r&n:e^r^n}function o(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function i(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r}function s(t,e){return t<<e|t>>>32-e}var a=t("./helpers");e.exports=function(t){return a.hash(t,r,20,!0)}},{"./helpers":13}],18:[function(t,e){var r=t("./helpers"),n=function(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r},o=function(t,e){return t>>>e|t<<32-e},i=function(t,e){return t>>>e},s=function(t,e,r){return t&e^~t&r},a=function(t,e,r){return t&e^t&r^e&r},u=function(t){return o(t,2)^o(t,13)^o(t,22)},c=function(t){return o(t,6)^o(t,11)^o(t,25)},l=function(t){return o(t,7)^o(t,18)^i(t,3)},h=function(t){return o(t,17)^o(t,19)^i(t,10)},f=function(t,e){var r,o,i,f,p,d,g,y,m,v,b,w,_=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),x=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),k=new Array(64);t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var m=0;m<t.length;m+=16){r=x[0],o=x[1],i=x[2],f=x[3],p=x[4],d=x[5],g=x[6],y=x[7];for(var v=0;64>v;v++)k[v]=16>v?t[v+m]:n(n(n(h(k[v-2]),k[v-7]),l(k[v-15])),k[v-16]),b=n(n(n(n(y,c(p)),s(p,d,g)),_[v]),k[v]),w=n(u(r),a(r,o,i)),y=g,g=d,d=p,p=n(f,b),f=i,i=o,o=r,r=n(b,w);x[0]=n(r,x[0]),x[1]=n(o,x[1]),x[2]=n(i,x[2]),x[3]=n(f,x[3]),x[4]=n(p,x[4]),x[5]=n(d,x[5]),x[6]=n(g,x[6]),x[7]=n(y,x[7])}return x};e.exports=function(t){return r.hash(t,f,32,!0)}},{"./helpers":13}],19:[function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,o,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length))throw e=arguments[1],e instanceof Error?e:TypeError('Uncaught, unspecified "error" event.');if(r=this._events[t],s(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,a=new Array(o-1),u=1;o>u;u++)a[u-1]=arguments[u];r.apply(this,a)}else if(i(r)){for(o=arguments.length,a=new Array(o-1),u=1;o>u;u++)a[u-1]=arguments[u];for(c=r.slice(),o=c.length,u=0;o>u;u++)c[u].apply(this,a)}return!0},r.prototype.addListener=function(t,e){var o;if(!n(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned){var o;o=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-->0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(0>o)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}},{}],20:[function(t,e){var r=e.exports,n=(t("events").EventEmitter,t("./lib/request")),o=t("url");r.request=function(t,e){"string"==typeof t&&(t=o.parse(t)),t||(t={}),t.host||t.port||(t.port=parseInt(window.location.port,10)),!t.host&&t.hostname&&(t.host=t.hostname),t.scheme||(t.scheme=window.location.protocol.split(":")[0]),t.host||(t.host=window.location.hostname||window.location.host),/:/.test(t.host)&&(t.port||(t.port=t.host.split(":")[1]),t.host=t.host.split(":")[0]),t.port||(t.port="https"==t.scheme?443:80);var r=new n(new i,t);return e&&r.on("response",e),r},r.get=function(t,e){t.method="GET";var n=r.request(t,e);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var i=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],e=0;e<t.length;e++)try{var r=new window.ActiveXObject(t[e]);return function(){if(r){var n=r;return r=null,n}return new window.ActiveXObject(t[e])}}catch(n){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":21,events:19,url:40}],21:[function(t,e){var r=t("stream"),n=t("./response"),o=t("Base64"),i=t("inherits"),s=e.exports=function(t,e){var r=this;r.writable=!0,r.xhr=t,r.body=[],r.uri=(e.scheme||"http")+"://"+e.host+(e.port?":"+e.port:"")+(e.path||"/"),"undefined"==typeof e.withCredentials&&(e.withCredentials=!0);try{t.withCredentials=e.withCredentials}catch(i){}if(t.open(e.method||"GET",r.uri,!0),r._headers={},e.headers)for(var s=a(e.headers),u=0;u<s.length;u++){var c=s[u];if(r.isSafeRequestHeader(c)){var l=e.headers[c];r.setHeader(c,l)}}e.auth&&this.setHeader("Authorization","Basic "+o.btoa(e.auth));var h=new n;h.on("close",function(){r.emit("close")}),h.on("ready",function(){r.emit("response",h)}),t.onreadystatechange=function(){t.__aborted||h.handle(t)}};i(s,r),s.prototype.setHeader=function(t,e){this._headers[t.toLowerCase()]=e},s.prototype.getHeader=function(t){return this._headers[t.toLowerCase()]},s.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},s.prototype.write=function(t){this.body.push(t)},s.prototype.destroy=function(){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},s.prototype.end=function(t){void 0!==t&&this.body.push(t);for(var e=a(this._headers),r=0;r<e.length;r++){var n=e[r],o=this._headers[n];if(u(o))for(var i=0;i<o.length;i++)this.xhr.setRequestHeader(n,o[i]);else this.xhr.setRequestHeader(n,o)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(u(this.body[0])){for(var s=[],r=0;r<this.body.length;r++)s.push.apply(s,this.body[r]);this.xhr.send(s)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var c=0,r=0;r<this.body.length;r++)c+=this.body[r].length;for(var s=new this.body[0].constructor(c),l=0,r=0;r<this.body.length;r++)for(var h=this.body[r],i=0;i<h.length;i++)s[l++]=h[i];this.xhr.send(s)}else{for(var s="",r=0;r<this.body.length;r++)s+=this.body[r].toString();this.xhr.send(s)}},s.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],s.prototype.isSafeRequestHeader=function(t){return t?-1===c(s.unsafeHeaders,t.toLowerCase()):!1};var a=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}},{"./response":22,Base64:23,inherits:25,stream:33}],22:[function(t,e){function r(t){for(var e=t.getAllResponseHeaders().split(/\r?\n/),r={},n=0;n<e.length;n++){var o=e[n];if(""!==o){var i=o.match(/^([^:]+):\s*(.*)/);if(i){var s=i[1].toLowerCase(),u=i[2];void 0!==r[s]?a(r[s])?r[s].push(u):r[s]=[r[s],u]:r[s]=u}else r[o]=!0}}return r}var n=t("stream"),o=t("util"),i=e.exports=function(){this.offset=0,this.readable=!0};o.inherits(i,n);var s={streaming:!0,status2:!0};i.prototype.getResponse=function(t){var e=String(t.responseType).toLowerCase();return"blob"===e?t.responseBlob||t.response:"arraybuffer"===e?t.response:t.responseText},i.prototype.getHeader=function(t){return this.headers[t.toLowerCase()]},i.prototype.handle=function(t){if(2===t.readyState&&s.status2){try{this.statusCode=t.status,this.headers=r(t)}catch(e){s.status2=!1}s.status2&&this.emit("ready")}else if(s.streaming&&3===t.readyState){try{this.statusCode||(this.statusCode=t.status,this.headers=r(t),this.emit("ready"))}catch(e){}try{this._emitData(t)}catch(e){s.streaming=!1}}else 4===t.readyState&&(this.statusCode||(this.statusCode=t.status,this.emit("ready")),this._emitData(t),t.error?this.emit("error",this.getResponse(t)):this.emit("end"),this.emit("close"))},i.prototype._emitData=function(t){var e=this.getResponse(t);return e.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(e,this.offset)),void(this.offset=e.byteLength)):void(e.length>this.offset&&(this.emit("data",e.slice(this.offset)),this.offset=e.length))};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{stream:33,util:42}],23:[function(t,e,r){!function(){function t(t){this.message=t}var e="undefined"!=typeof r?r:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var r,o,i=0,s=n,a="";e.charAt(0|i)||(s="=",i%1);a+=s.charAt(63&r>>8-i%1*8)){if(o=e.charCodeAt(i+=.75),o>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return a}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,i=0,s=0,a="";o=e.charAt(s++);~o&&(r=i%4?64*r+o:o,i++%4)?a+=String.fromCharCode(255&r>>(-2*i&6)):0)o=n.indexOf(o);return a})}()},{}],24:[function(t,e){var r=t("http"),n=e.exports;for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o]);n.request=function(t,e){return t||(t={}),t.scheme="https",r.request.call(this,t,e)}},{http:20}],25:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],26:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};r.resolve=function(){for(var r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,o="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+r||"."},r.normalize=function(t){var o=r.isAbsolute(t),i="/"===s(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var o=n(t.split("/")),i=n(e.split("/")),s=Math.min(o.length,i.length),a=s,u=0;s>u;u++)if(o[u]!==i[u]){a=u;break}for(var c=[],u=a;u<o.length;u++)c.push("..");return c=c.concat(i.slice(a)),c.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("1YiZ5S"))},{"1YiZ5S":27}],27:[function(t,e){function r(){}var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],28:[function(t,e,r){(function(t){!function(n){function o(t){throw RangeError(R[t])}function i(t,e){for(var r=t.length;r--;)t[r]=e(t[r]);return t}function s(t,e){return i(t.split(T),e).join(".")}function a(t){for(var e,r,n=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function u(t){return i(t,function(t){var e="";return t>65535&&(t-=65536,e+=U(t>>>10&1023|55296),t=56320|1023&t),e+=U(t)}).join("")}function c(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:x}function l(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function h(t,e,r){var n=0;for(t=r?M(t/j):t>>1,t+=M(t/e);t>I*E>>1;n+=x)t=M(t/I);return M(n+(I+1)*t/(t+S))}function f(t){var e,r,n,i,s,a,l,f,p,d,g=[],y=t.length,m=0,v=C,b=A;for(r=t.lastIndexOf(q),0>r&&(r=0),n=0;r>n;++n)t.charCodeAt(n)>=128&&o("not-basic"),g.push(t.charCodeAt(n));for(i=r>0?r+1:0;y>i;){for(s=m,a=1,l=x;i>=y&&o("invalid-input"),f=c(t.charCodeAt(i++)),(f>=x||f>M((_-m)/a))&&o("overflow"),m+=f*a,p=b>=l?k:l>=b+E?E:l-b,!(p>f);l+=x)d=x-p,a>M(_/d)&&o("overflow"),a*=d;e=g.length+1,b=h(m-s,e,0==s),M(m/e)>_-v&&o("overflow"),v+=M(m/e),m%=e,g.splice(m++,0,v)}return u(g)}function p(t){var e,r,n,i,s,u,c,f,p,d,g,y,m,v,b,w=[];for(t=a(t),y=t.length,e=C,r=0,s=A,u=0;y>u;++u)g=t[u],128>g&&w.push(U(g));for(n=i=w.length,i&&w.push(q);y>n;){for(c=_,u=0;y>u;++u)g=t[u],g>=e&&c>g&&(c=g);for(m=n+1,c-e>M((_-r)/m)&&o("overflow"),r+=(c-e)*m,e=c,u=0;y>u;++u)if(g=t[u],e>g&&++r>_&&o("overflow"),g==e){for(f=r,p=x;d=s>=p?k:p>=s+E?E:p-s,!(d>f);p+=x)b=f-d,v=x-d,w.push(U(l(d+b%v,0))),f=M(b/v);w.push(U(l(f,0))),s=h(r,m,n==i),r=0,++n}++r,++e}return w.join("")}function d(t){return s(t,function(t){return O.test(t)?f(t.slice(4).toLowerCase()):t})}function g(t){return s(t,function(t){return L.test(t)?"xn--"+p(t):t})}var y="object"==typeof r&&r,m="object"==typeof e&&e&&e.exports==y&&e,v="object"==typeof t&&t;(v.global===v||v.window===v)&&(n=v);var b,w,_=2147483647,x=36,k=1,E=26,S=38,j=700,A=72,C=128,q="-",O=/^xn--/,L=/[^ -~]/,T=/\x2E|\u3002|\uFF0E|\uFF61/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=x-k,M=Math.floor,U=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:a,encode:u},decode:f,encode:p,toASCII:g,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(y&&!y.nodeType)if(m)m.exports=b;else for(w in b)b.hasOwnProperty(w)&&(y[w]=b[w]);else n.punycode=b}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,o,i){e=e||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var h,f,p,d,g=t[l].replace(a,"%20"),y=g.indexOf(o);y>=0?(h=g.substr(0,y),f=g.substr(y+1)):(h=g,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),r(s,p)?n(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],30:[function(t,e){"use strict";function r(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,s,a){return e=e||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t?r(i(t),function(r){var i=encodeURIComponent(n(r))+s;return o(t[r])?t[r].map(function(t){return i+encodeURIComponent(n(t))}).join(e):i+encodeURIComponent(n(t[r]))}).join(e):a?encodeURIComponent(n(a))+s+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],31:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":29,"./encode":30}],32:[function(t,e){function r(t){return this instanceof r?(s.call(this,t),a.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",n)):new r(t)}function n(){if(!this.allowHalfOpen&&!this._writableState.ended){var t=this;i(function(){t.end()})}}e.exports=r;var o=t("inherits"),i=t("process/browser.js").nextTick,s=t("./readable.js"),a=t("./writable.js");o(r,s),r.prototype.write=a.prototype.write,r.prototype.end=a.prototype.end,r.prototype._write=a.prototype._write},{"./readable.js":36,"./writable.js":38,inherits:25,"process/browser.js":34}],33:[function(t,e){function r(){n.call(this)}e.exports=r;var n=t("events").EventEmitter,o=t("inherits");o(r,n),r.Readable=t("./readable.js"),r.Writable=t("./writable.js"),r.Duplex=t("./duplex.js"),r.Transform=t("./transform.js"),r.PassThrough=t("./passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function o(){c.readable&&c.resume&&c.resume()}function i(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===n.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",r),t.removeListener("drain",o),c.removeListener("end",i),c.removeListener("close",s),c.removeListener("error",a),t.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",r),t.on("drain",o),t._isStdio||e&&e.end===!1||(c.on("end",i),c.on("close",s));var l=!1;return c.on("error",a),t.on("error",a),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},{"./duplex.js":32,"./passthrough.js":35,"./readable.js":36,"./transform.js":37,"./writable.js":38,events:19,inherits:25}],34:[function(t,e){var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],35:[function(t,e){function r(t){return this instanceof r?void n.call(this,t):new r(t)}e.exports=r;var n=t("./transform.js"),o=t("inherits");o(r,n),r.prototype._transform=function(t,e,r){r(null,t)}},{"./transform.js":37,inherits:25}],36:[function(t,e){(function(r){function n(e){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(k||(k=t("string_decoder").StringDecoder),this.decoder=new k(e.encoding),this.encoding=e.encoding)
}function o(t){return this instanceof o?(this._readableState=new n(t,this),this.readable=!0,void S.call(this)):new o(t)}function i(t,e,r,n,o){var i=c(e,r);if(i)t.emit("error",i);else if(null===r||void 0===r)e.reading=!1,e.ended||l(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!o){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&o){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else!e.decoder||o||n||(r=e.decoder.write(r)),e.length+=e.objectMode?1:r.length,o?e.buffer.unshift(r):(e.reading=!1,e.buffer.push(r)),e.needReadable&&h(t),p(t,e);else o||(e.reading=!1);return s(e)}function s(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){if(t>=q)t=q;else{t--;for(var e=1;32>e;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||null===t?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:0>=t?0:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var r=null;return j.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||r||(r=new TypeError("Invalid non-string/buffer chunk")),r}function l(t,e){if(e.decoder&&!e.ended){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.length>0?h(t):w(t)}function h(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,e.sync?A(function(){f(t)}):f(t))}function f(t){t.emit("readable")}function p(t,e){e.readingMore||(e.readingMore=!0,A(function(){d(t,e)}))}function d(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;e.awaitDrain--,0===e.awaitDrain&&y(t)}}function y(t){function e(t){var e=t.write(r);!1===e&&n.awaitDrain++}var r,n=t._readableState;for(n.awaitDrain=0;n.pipesCount&&null!==(r=t.read());)if(1===n.pipesCount?e(n.pipes,0,null):_(n.pipes,e),t.emit("data",r),n.awaitDrain>0)return;return 0===n.pipesCount?(n.flowing=!1,void(E.listenerCount(t,"data")>0&&v(t))):void(n.ranOut=!0)}function m(){this._readableState.ranOut&&(this._readableState.ranOut=!1,y(this))}function v(t,e){var r=t._readableState;if(r.flowing)throw new Error("Cannot switch to old mode now.");var n=e||!1,o=!1;t.readable=!0,t.pipe=S.prototype.pipe,t.on=t.addListener=S.prototype.on,t.on("readable",function(){o=!0;for(var e;!n&&null!==(e=t.read());)t.emit("data",e);null===e&&(o=!1,t._readableState.needReadable=!0)}),t.pause=function(){n=!0,this.emit("pause")},t.resume=function(){n=!1,o?A(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function b(t,e){var r,n=e.buffer,o=e.length,i=!!e.decoder,s=!!e.objectMode;if(0===n.length)return null;if(0===o)r=null;else if(s)r=n.shift();else if(!t||t>=o)r=i?n.join(""):j.concat(n,o),n.length=0;else if(t<n[0].length){var a=n[0];r=a.slice(0,t),n[0]=a.slice(t)}else if(t===n[0].length)r=n.shift();else{r=i?"":new j(t);for(var u=0,c=0,l=n.length;l>c&&t>u;c++){var a=n[0],h=Math.min(t-u,a.length);i?r+=a.slice(0,h):a.copy(r,u,0,h),h<a.length?n[0]=a.slice(h):n.shift(),u+=h}}return r}function w(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");!e.endEmitted&&e.calledRead&&(e.ended=!0,A(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function _(t,e){for(var r=0,n=t.length;n>r;r++)e(t[r],r)}function x(t,e){for(var r=0,n=t.length;n>r;r++)if(t[r]===e)return r;return-1}e.exports=o,o.ReadableState=n;var k,E=t("events").EventEmitter,S=t("./index.js"),j=t("buffer").Buffer,A=t("process/browser.js").nextTick,C=t("inherits");C(o,S),o.prototype.push=function(t,e){var r=this._readableState;return"string"!=typeof t||r.objectMode||(e=e||r.defaultEncoding,e!==r.encoding&&(t=new j(t,e),e="")),i(this,r,t,e,!1)},o.prototype.unshift=function(t){var e=this._readableState;return i(this,e,t,"",!0)},o.prototype.setEncoding=function(e){k||(k=t("string_decoder").StringDecoder),this._readableState.decoder=new k(e),this._readableState.encoding=e};var q=8388608;o.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var r=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&w(this),null;var n=e.needReadable;e.length-t<=e.highWaterMark&&(n=!0),(e.ended||e.reading)&&(n=!1),n&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),n&&!e.reading&&(t=u(r,e));var o;return o=t>0?b(t,e):null,null===o&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&w(this),o},o.prototype._read=function(){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(t,e){function n(t){t===l&&i()}function o(){t.end()}function i(){t.removeListener("close",a),t.removeListener("finish",u),t.removeListener("drain",d),t.removeListener("error",s),t.removeListener("unpipe",n),l.removeListener("end",o),l.removeListener("end",i),(!t._writableState||t._writableState.needDrain)&&d()}function s(e){c(),0===v&&0===E.listenerCount(t,"error")&&t.emit("error",e)}function a(){t.removeListener("finish",u),c()}function u(){t.removeListener("close",a),c()}function c(){l.unpipe(t)}var l=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1;var f=(!e||e.end!==!1)&&t!==r.stdout&&t!==r.stderr,p=f?o:i;h.endEmitted?A(p):l.once("end",p),t.on("unpipe",n);var d=g(l);t.on("drain",d);var v=E.listenerCount(t,"error");return t.once("error",s),t.once("close",a),t.once("finish",u),t.emit("pipe",l),h.flowing||(this.on("readable",m),h.flowing=!0,A(function(){y(l)})),t},o.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",m),e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",m),e.flowing=!1;for(var o=0;n>o;o++)r[o].emit("unpipe",this);return this}var o=x(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},o.prototype.on=function(t,e){var r=S.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||v(this),"readable"===t&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&h(this,n):this.read(0))}return r},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){v(this),this.read(0),this.emit("resume")},o.prototype.pause=function(){v(this,!0),this.emit("pause")},o.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(o){if(e.decoder&&(o=e.decoder.write(o)),o&&(e.objectMode||o.length)){var i=n.push(o);i||(r=!0,t.pause())}});for(var o in t)"function"==typeof t[o]&&"undefined"==typeof this[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));var i=["error","close","destroy","pause","resume"];return _(i,function(e){t.on(e,function(t){return n.emit.apply(n,e,t)})}),n._read=function(){r&&(r=!1,t.resume())},n},o._fromList=b}).call(this,t("1YiZ5S"))},{"./index.js":33,"1YiZ5S":27,buffer:10,events:19,inherits:25,"process/browser.js":34,string_decoder:39}],37:[function(t,e){function r(t,e){this.afterTransform=function(t,r){return n(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(t,e,r){var n=t._transformState;n.transforming=!1;var o=n.writecb;if(!o)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&t.push(r),o&&o(e);var i=t._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&t._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);s.call(this,t);var e=(this._transformState=new r(t,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(t){i(e,t)}):i(e)})}function i(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=(t._readableState,t._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=o;var s=t("./duplex.js"),a=t("inherits");a(o,s),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},o.prototype._transform=function(){throw new Error("not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},o.prototype._read=function(){var t=this._transformState;t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./duplex.js":32,inherits:25}],38:[function(t,e){function r(t,e,r){this.chunk=t,this.encoding=e,this.callback=r}function n(t,e){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){f(e,t)},this.writecb=null,this.writelen=0,this.buffer=[]}function o(t){return this instanceof o||this instanceof x.Duplex?(this._writableState=new n(t,this),this.writable=!0,void x.call(this)):new o(t)}function i(t,e,r){var n=new Error("write after end");t.emit("error",n),k(function(){r(n)})}function s(t,e,r,n){var o=!0;if(!E.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!e.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");t.emit("error",i),k(function(){n(i)}),o=!1}return o}function a(t,e,r){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=new E(e,r)),e}function u(t,e,n,o,i){n=a(e,n,o);var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;return e.needDrain=!u,e.writing?e.buffer.push(new r(n,o,i)):c(t,e,s,n,o,i),u}function c(t,e,r,n,o,i){e.writelen=r,e.writecb=i,e.writing=!0,e.sync=!0,t._write(n,o,e.onwrite),e.sync=!1}function l(t,e,r,n,o){r?k(function(){o(n)}):o(n),t.emit("error",n)}function h(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function f(t,e){var r=t._writableState,n=r.sync,o=r.writecb;if(h(r),e)l(t,r,n,e,o);else{var i=y(t,r);i||r.bufferProcessing||!r.buffer.length||g(t,r),n?k(function(){p(t,r,i,o)}):p(t,r,i,o)}}function p(t,e,r,n){r||d(t,e),n(),r&&m(t,e)}function d(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function g(t,e){e.bufferProcessing=!0;for(var r=0;r<e.buffer.length;r++){var n=e.buffer[r],o=n.chunk,i=n.encoding,s=n.callback,a=e.objectMode?1:o.length;if(c(t,e,a,o,i,s),e.writing){r++;break}}e.bufferProcessing=!1,r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}function y(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function m(t,e){var r=y(t,e);return r&&(e.finished=!0,t.emit("finish")),r}function v(t,e,r){e.ending=!0,m(t,e),r&&(e.finished?k(r):t.once("finish",r)),e.ended=!0}e.exports=o,o.WritableState=n;var b="undefined"!=typeof Uint8Array?function(t){return t instanceof Uint8Array}:function(t){return t&&t.constructor&&"Uint8Array"===t.constructor.name},w="undefined"!=typeof ArrayBuffer?function(t){return t instanceof ArrayBuffer}:function(t){return t&&t.constructor&&"ArrayBuffer"===t.constructor.name},_=t("inherits"),x=t("./index.js"),k=t("process/browser.js").nextTick,E=t("buffer").Buffer;_(o,x),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,r){var n=this._writableState,o=!1;return"function"==typeof e&&(r=e,e=null),!E.isBuffer(t)&&b(t)&&(t=new E(t)),w(t)&&"undefined"!=typeof Uint8Array&&(t=new E(new Uint8Array(t))),E.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=function(){}),n.ended?i(this,n,r):s(this,n,t,r)&&(o=u(this,n,t,e,r)),o},o.prototype._write=function(t,e,r){r(new Error("not implemented"))},o.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),"undefined"!=typeof t&&null!==t&&this.write(t,e),n.ending||n.finished||v(this,n,r)}},{"./index.js":33,buffer:10,inherits:25,"process/browser.js":34}],39:[function(t,e,r){function n(t){if(t&&!a.isEncoding(t))throw new Error("Unknown encoding: "+t)}function o(t){return t.toString(this.encoding)}function i(t){var e=this.charReceived=t.length%2;return this.charLength=e?2:0,e}function s(t){var e=this.charReceived=t.length%3;return this.charLength=e?3:0,e}var a=t("buffer").Buffer,u=r.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),n(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=o)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var e="",r=0;this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,r,n),this.charReceived+=n-r,r=n,this.charReceived<this.charLength)return"";e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var o=e.charCodeAt(e.length-1);if(!(o>=55296&&56319>=o)){if(this.charReceived=this.charLength=0,n==t.length)return e;t=t.slice(n,t.length);break}this.charLength+=this.surrogateSize,e=""}var i=this.detectIncompleteChar(t),s=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-i,s),this.charReceived=i,s-=i),e+=t.toString(this.encoding,0,s);var s=e.length-1,o=e.charCodeAt(s);if(o>=55296&&56319>=o){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),this.charBuffer.write(e.charAt(e.length-1),this.encoding),e.substring(0,s)}return e},u.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(2>=e&&r>>4==14){this.charLength=3;break}if(3>=e&&r>>3==30){this.charLength=4;break}}return e},u.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,o=this.encoding;e+=n.slice(0,r).toString(o)}return e}},{buffer:10}],40:[function(t,e,r){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&c(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function i(t){return u(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function h(t){return null==t}var f=t("punycode");r.parse=o,r.resolve=s,r.resolveObject=a,r.format=i,r.Url=n;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],y=["{","}","|","\\","^","`"].concat(g),m=["'"].concat(y),v=["%","/","?",";","#"].concat(m),b=["/","?","#"],w=255,_=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=t("querystring");n.prototype.parse=function(t,e,r){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t;n=n.trim();var o=p.exec(n);if(o){o=o[0];var i=o.toLowerCase();this.protocol=i,n=n.substr(o.length)}if(r||o||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===n.substr(0,2);!s||o&&E[o]||(n=n.substr(2),this.slashes=!0)}if(!E[o]&&(s||o&&!S[o])){for(var a=-1,c=0;c<b.length;c++){var l=n.indexOf(b[c]);-1!==l&&(-1===a||a>l)&&(a=l)}var h,d;d=-1===a?n.lastIndexOf("@"):n.lastIndexOf("@",a),-1!==d&&(h=n.slice(0,d),n=n.slice(d+1),this.auth=decodeURIComponent(h)),a=-1;for(var c=0;c<v.length;c++){var l=n.indexOf(v[c]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=n.length),this.host=n.slice(0,a),n=n.slice(a),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var y=this.hostname.split(/\./),c=0,A=y.length;A>c;c++){var C=y[c];if(C&&!C.match(_)){for(var q="",O=0,L=C.length;L>O;O++)q+=C.charCodeAt(O)>127?"x":C[O];if(!q.match(_)){var T=y.slice(0,c),R=y.slice(c+1),I=C.match(x);I&&(T.push(I[1]),R.unshift(I[2])),R.length&&(n="/"+R.join(".")+n),this.hostname=T.join(".");break}}}if(this.hostname=this.hostname.length>w?"":this.hostname.toLowerCase(),!g){for(var M=this.hostname.split("."),U=[],c=0;c<M.length;++c){var H=M[c];U.push(H.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(H):H)}this.hostname=U.join(".")}var B=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+B,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!k[i])for(var c=0,A=m.length;A>c;c++){var N=m[c],P=encodeURIComponent(N);P===N&&(P=escape(N)),n=n.split(N).join(P)}var F=n.indexOf("#");-1!==F&&(this.hash=n.substr(F),n=n.slice(0,F));var z=n.indexOf("?");if(-1!==z?(this.search=n.substr(z),this.query=n.substr(z+1),e&&(this.query=j.parse(this.query)),n=n.slice(0,z)):e&&(this.search="",this.query={}),n&&(this.pathname=n),S[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",H=this.search||"";this.path=B+H}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(i=j.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&o!==!1?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+o+r+s+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(u(t)){var e=new n;e.parse(t,!1,!0),t=e}var r=new n;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),S[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!S[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||E[t.protocol])r.pathname=t.pathname;else{for(var o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),r.pathname=o.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var i=r.pathname||"",s=r.search||"";r.path=i+s}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var a=r.pathname&&"/"===r.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=c||a||r.host&&t.pathname,p=f,d=r.pathname&&r.pathname.split("/")||[],o=t.pathname&&t.pathname.split("/")||[],g=r.protocol&&!S[r.protocol];if(g&&(r.hostname="",r.port=null,r.host&&(""===d[0]?d[0]=r.host:d.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),f=f&&(""===o[0]||""===d[0])),c)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,d=o;else if(o.length)d||(d=[]),d.pop(),d=d.concat(o),r.search=t.search,r.query=t.query;else if(!h(t.search)){if(g){r.hostname=r.host=d.shift();var y=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;y&&(r.auth=y.shift(),r.host=r.hostname=y.shift())}return r.search=t.search,r.query=t.query,l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!d.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var m=d.slice(-1)[0],v=(r.host||t.host)&&("."===m||".."===m)||""===m,b=0,w=d.length;w>=0;w--)m=d[w],"."==m?d.splice(w,1):".."===m?(d.splice(w,1),b++):b&&(d.splice(w,1),b--);if(!f&&!p)for(;b--;b)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),v&&"/"!==d.join("/").substr(-1)&&d.push("");var _=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(g){r.hostname=r.host=_?"":d.length?d.shift():"";var y=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;y&&(r.auth=y.shift(),r.host=r.hostname=y.shift())}return f=f||r.host&&d.length,f&&!_&&d.unshift(""),d.length?r.pathname=d.join("/"):(r.pathname=null,r.path=null),l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:28,querystring:31}],41:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],42:[function(t,e,r){(function(e,n){function o(t,e){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&r._extend(n,e),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),u(n,t,n.depth)}function i(t,e){var r=o.styles[e];return r?"["+o.colors[r][0]+"m"+t+"["+o.colors[r][1]+"m":t}function s(t){return t}function a(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&j(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(n,t);return b(o)||(o=u(t,o,n)),o}var i=c(t,e);if(i)return i;var s=Object.keys(e),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),S(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(j(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return l(e)}var m="",v=!1,w=["{","}"];if(d(e)&&(v=!0,w=["[","]"]),j(e)){var _=e.name?": "+e.name:"";m=" [Function"+_+"]"}if(x(e)&&(m=" "+RegExp.prototype.toString.call(e)),E(e)&&(m=" "+Date.prototype.toUTCString.call(e)),S(e)&&(m=" "+l(e)),0===s.length&&(!v||0==e.length))return w[0]+m+w[1];if(0>n)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var k;return k=v?h(t,e,n,g,s):s.map(function(r){return f(t,e,n,g,r,v)}),t.seen.pop(),p(k,m,w)}function c(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return v(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,r,n,o){for(var i=[],s=0,a=e.length;a>s;++s)i.push(L(e,String(s))?f(t,e,r,n,String(s),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(t,e,r,n,o,!0))}),i}function f(t,e,r,n,o,i){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),L(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(r)?u(t,c.value,null):u(t,c.value,r-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),_(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,r){var n=0,o=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function _(t){return void 0===t}function x(t){return k(t)&&"[object RegExp]"===C(t)}function k(t){return"object"==typeof t&&null!==t}function E(t){return k(t)&&"[object Date]"===C(t)}function S(t){return k(t)&&("[object Error]"===C(t)||t instanceof Error)}function j(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function q(t){return 10>t?"0"+t.toString(10):t.toString(10)}function O(){var t=new Date,e=[q(t.getHours()),q(t.getMinutes()),q(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var T=/%[sdj%]/g;r.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(o(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(T,function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}}),a=n[r];i>r;a=n[++r])s+=y(a)||!k(a)?" "+a:" "+o(a);return s},r.deprecate=function(t,o){function i(){if(!s){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),s=!0}return t.apply(this,arguments)}if(_(n.process))return function(){return r.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return i};var R,I={};r.debuglog=function(t){if(_(R)&&(R=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var n=e.pid;I[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else I[t]=function(){};return I[t]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=g,r.isNull=y,r.isNullOrUndefined=m,r.isNumber=v,r.isString=b,r.isSymbol=w,r.isUndefined=_,r.isRegExp=x,r.isObject=k,r.isDate=E,r.isError=S,r.isFunction=j,r.isPrimitive=A,r.isBuffer=t("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",O(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!k(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":41,"1YiZ5S":27,inherits:25}],43:[function(t,e){(function(r){function n(t,e,r){var n;return"function"!=typeof e||r||(r=e),e&&"object"==typeof e?(n=u._extend({},e),n.uri=t):"string"==typeof t?n={uri:t}:(n=u._extend({},t),t=n.uri),{uri:t,options:n,callback:r}}function o(t,e,r){var n;if("undefined"==typeof t)throw new Error("undefined is not a valid uri or options object.");"function"!=typeof e||r||(r=e),e&&"object"==typeof e?(n=u._extend({},e),n.uri=t):n="string"==typeof t?{uri:t}:u._extend({},t),r&&(n.callback=r);var o=new a(n);return o}function i(t){return"function"==typeof t.options._requester?t.options._requester:o}var s=t("./lib/cookies"),a=(t("./lib/copy"),t("./request")),u=t("util");e.exports=o,o.Request=a,o.debug=r.env.NODE_DEBUG&&/request/.test(r.env.NODE_DEBUG),o.initParams=n,o.defaults=function(t,e){var r=function(r){var i=function(i,s,a){var u=n(i,s,a);for(var c in t)void 0===u.options[c]&&(u.options[c]=t[c]);return"function"==typeof e&&(r===o?r=e:u.options._requester=e),r(u.options,u.callback)};return i},i=r(o);return i.get=r(o.get),i.patch=r(o.patch),i.post=r(o.post),i.put=r(o.put),i.head=r(o.head),i.del=r(o.del),i.cookie=r(o.cookie),i.jar=o.jar,i},o.forever=function(t,e){var r={};if(e)for(var n in e)r[n]=e[n];return t&&(r.agentOptions=t),r.forever=!0,o.defaults(r)},o.get=function(t,e,r){var o=n(t,e,r);return o.options.method="GET",i(o)(o.uri||null,o.options,o.callback)},o.post=function(t,e,r){var o=n(t,e,r);return o.options.method="POST",i(o)(o.uri||null,o.options,o.callback)},o.put=function(t,e,r){var o=n(t,e,r);return o.options.method="PUT",i(o)(o.uri||null,o.options,o.callback)},o.patch=function(t,e,r){var o=n(t,e,r);return o.options.method="PATCH",i(o)(o.uri||null,o.options,o.callback)},o.head=function(t,e,r){var o=n(t,e,r);if(o.options.method="HEAD",o.options.body||o.options.requestBodyStream||o.options.json&&"boolean"!=typeof o.options.json||o.options.multipart)throw new Error("HTTP HEAD requests MUST NOT include a request body.");return i(o)(o.uri||null,o.options,o.callback)},o.del=function(t,e,r){var o=n(t,e,r);return o.options.method="DELETE",i(o)(o.uri||null,o.options,o.callback)},o.jar=function(){return s.jar()},o.cookie=function(t){return s.parse(t)}}).call(this,t("1YiZ5S"))},{"./lib/cookies":44,"./lib/copy":45,"./request":54,"1YiZ5S":27,util:42}],44:[function(t,e,r){function n(){this._jar=new a}var o=t("./optional"),i=o("tough-cookie"),s=i&&i.Cookie,a=i&&i.CookieJar;r.parse=function(t){if(t&&t.uri&&(t=t.uri),"string"!=typeof t)throw new Error("The cookie function only accepts STRING as param");return s?s.parse(t):null},n.prototype.setCookie=function(t,e,r){return this._jar.setCookieSync(t,e,r||{})},n.prototype.getCookieString=function(t){return this._jar.getCookieStringSync(t)},r.jar=function(){return a?new n:{setCookie:function(){},getCookieString:function(){}}}},{"./optional":48}],45:[function(t,e){e.exports=function(t){var e={};return Object.keys(t).forEach(function(r){e[r]=t[r]}),e}},{}],46:[function(t,e){(function(r){var n=t("util");e.exports=function(){/\brequest\b/.test(r.env.NODE_DEBUG)&&console.error("REQUEST %s",n.format.apply(n,arguments))}}).call(this,t("1YiZ5S"))},{"1YiZ5S":27,util:42}],47:[function(t,e){e.exports=function r(t,e){if("object"==typeof t||"function"==typeof t)var n={};
if(Array.isArray(t))var n=[];var o=[];Object.defineProperty(t,e,{});for(var i=Object.keys(t).filter(function(r){return r===e?!1:"object"!=typeof t[r]&&"function"!=typeof t[r]||null===t[r]?!0:!Object.getOwnPropertyDescriptor(t[r],e)}),s=0;s<i.length;s++)"object"!=typeof t[i[s]]&&"function"!=typeof t[i[s]]||null===t[i[s]]?n[i[s]]=t[i[s]]:(o.push(i[s]),Object.defineProperty(t[i[s]],e,{}));for(var s=0;s<o.length;s++)n[o[s]]=r(t[o[s]],e);return n}},{}],48:[function(t,e){e.exports=function(e){try{return t(e)}catch(r){}}},{}],49:[function(t,e){function r(t){var e=this;e.options=t||{},e.requests={},e.sockets={},e.freeSockets={},e.maxSockets=e.options.maxSockets||s.defaultMaxSockets,e.minSockets=e.options.minSockets||r.defaultMinSockets,e.on("free",function(t,r,n){var o=r+":"+n;if(e.requests[o]&&e.requests[o].length)e.requests[o].shift().onSocket(t);else if(e.sockets[o].length<e.minSockets){e.freeSockets[o]||(e.freeSockets[o]=[]),e.freeSockets[o].push(t);var i=function(){t.destroy()};t._onIdleError=i,t.on("error",i)}else t.destroy()})}function n(t){r.call(this,t)}function o(t,e,r){return r="object"==typeof t?t:"object"==typeof e?e:"object"==typeof r?r:{},"number"==typeof t&&(r.port=t),"string"==typeof e&&(r.host=e),u.connect(r)}e.exports=r,r.SSL=n;var i=t("util"),s=t("http").Agent,a=t("net"),u=t("tls"),c=t("https").Agent;i.inherits(r,s),r.defaultMinSockets=5,r.prototype.createConnection=a.createConnection,r.prototype.addRequestNoreuse=s.prototype.addRequest,r.prototype.addRequest=function(t,e,r){var n=e+":"+r;if(this.freeSockets[n]&&this.freeSockets[n].length>0&&!t.useChunkedEncodingByDefault){var o=this.freeSockets[n].pop();o.removeListener("error",o._onIdleError),delete o._onIdleError,t._reusedSocket=!0,t.onSocket(o)}else this.addRequestNoreuse(t,e,r)},r.prototype.removeSocket=function(t,e,r,n){if(this.sockets[e]){var o=this.sockets[e].indexOf(t);-1!==o&&this.sockets[e].splice(o,1)}else this.sockets[e]&&0===this.sockets[e].length&&(delete this.sockets[e],delete this.requests[e]);if(this.freeSockets[e]){var o=this.freeSockets[e].indexOf(t);-1!==o&&(this.freeSockets[e].splice(o,1),0===this.freeSockets[e].length&&delete this.freeSockets[e])}this.requests[e]&&this.requests[e].length&&this.createSocket(e,r,n).emit("free")},i.inherits(n,r),n.prototype.createConnection=o,n.prototype.addRequestNoreuse=c.prototype.addRequest},{http:20,https:24,net:9,tls:9,util:42}],50:[function(t,e){function r(t,e){var r=[],o=[];return e=e||function(t,e){return"[Circular "+n(e,r,o)+"]"},function(n,i){var s=i;return"object"==typeof i&&i&&(-1!==r.indexOf(i)?s=e(n,i):(r.push(i),o.push(n))),t&&(s=t(n,s)),s}}function n(t,e,r){var n=e.indexOf(t),o=[r[n]];for(n--;n>=0;n--)e[n][o[0]]===t&&(t=e[n],o.unshift(r[n]));return"~"+o.join(".")}function o(t,e,n,o){return JSON.stringify(t,r(e,o),n)}e.exports=o,o.getSerialize=r},{}],51:[function(t,e){(function(r,n){function o(){this.types=Object.create(null),this.extensions=Object.create(null)}var i=t("path"),s=t("fs");o.prototype.define=function(t){for(var e in t){for(var n=t[e],o=0;o<n.length;o++)r.env.DEBUG_MIME&&this.types[n]&&console.warn(this._loading.replace(/.*\//,""),'changes "'+n[o]+'" extension type from '+this.types[n]+" to "+e),this.types[n[o]]=e;this.extensions[e]||(this.extensions[e]=n[0])}},o.prototype.load=function(t){this._loading=t;var e={},r=s.readFileSync(t,"ascii"),n=r.split(/[\r\n]+/);n.forEach(function(t){var r=t.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);e[r.shift()]=r}),this.define(e),this._loading=null},o.prototype.lookup=function(t,e){var r=t.replace(/.*[\.\/\\]/,"").toLowerCase();return this.types[r]||e||this.default_type},o.prototype.extension=function(t){var e=t.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[e]};var a=new o;a.load(i.join(n,"types/mime.types")),a.load(i.join(n,"types/node.types")),a.default_type=a.lookup("bin"),a.Mime=o,a.charsets={lookup:function(t,e){return/^text\//.test(t)?"UTF-8":e}},e.exports=a}).call(this,t("1YiZ5S"),"/../node_modules/request/node_modules/mime")},{"1YiZ5S":27,fs:9,path:26}],52:[function(t,e){(function(r){(function(){function n(t,e,r){var n=e&&r||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>o&&(e[n+o++]=g[t])});16>o;)e[n+o++]=0;return e}function o(t,e){var r=e||0,n=d;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}function i(t,e,r){var n=e&&r||0,i=e||[];t=t||{};var s=null!=t.clockseq?t.clockseq:b,a=null!=t.msecs?t.msecs:(new Date).getTime(),u=null!=t.nsecs?t.nsecs:_+1,c=a-w+(u-_)/1e4;if(0>c&&null==t.clockseq&&(s=s+1&16383),(0>c||a>w)&&null==t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");w=a,_=u,b=s,a+=122192928e5;var l=(1e4*(268435455&a)+u)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=255&l;var h=a/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=255&h,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var f=t.node||v,p=0;6>p;p++)i[n+p]=f[p];return e?e:o(i)}function s(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"==t?new p(16):null,t=null),t=t||{};var i=t.random||(t.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var s=0;16>s;s++)e[n+s]=i[s];return e||o(i)}var a,u=this;if("function"==typeof t)try{var c=t("crypto").randomBytes;a=c&&function(){return c(16)}}catch(l){}if(!a&&u.crypto&&crypto.getRandomValues){var h=new Uint8Array(16);a=function(){return crypto.getRandomValues(h),h}}if(!a){var f=new Array(16);a=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),f[e]=t>>>((3&e)<<3)&255;return f}}for(var p="function"==typeof r?r:Array,d=[],g={},y=0;256>y;y++)d[y]=(y+256).toString(16).substr(1),g[d[y]]=y;var m=a(),v=[1|m[0],m[1],m[2],m[3],m[4],m[5]],b=16383&(m[6]<<8|m[7]),w=0,_=0,x=s;if(x.v1=i,x.v4=s,x.parse=n,x.unparse=o,x.BufferClass=p,"function"==typeof define&&define.amd)define(function(){return x});else if("undefined"!=typeof e&&e.exports)e.exports=x;else{var k=u.uuid;x.noConflict=function(){return u.uuid=k,x},u.uuid=x}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:10,crypto:14}],53:[function(t,e,r){function n(t,e){if(0==t[e].length)return t[e]={};var r={};for(var n in t[e])y.call(t[e],n)&&(r[n]=t[e][n]);return t[e]=r,r}function o(t,e,r,i){var s=t.shift();if(!Object.getOwnPropertyDescriptor(Object.prototype,r))if(s){var a=e[r]=e[r]||[];"]"==s?v(a)?""!=i&&a.push(i):"object"==typeof a?a[b(a).length]=i:a=e[r]=[e[r],i]:~m(s,"]")?(s=s.substr(0,s.length-1),!x.test(s)&&v(a)&&(a=n(e,r)),o(t,a,s,i)):(!x.test(s)&&v(a)&&(a=n(e,r)),o(t,a,s,i))}else v(e[r])?e[r].push(i):e[r]="object"==typeof e[r]?i:"undefined"==typeof e[r]?i:[e[r],i]}function i(t,e,r){if(~m(e,"]")){{var n=e.split("[");n.length}o(n,t,"base",r)}else{if(!x.test(e)&&v(t.base)){var i={};for(var s in t.base)i[s]=t.base[s];t.base=i}f(t.base,e,r)}return t}function s(t){if("object"!=typeof t)return t;if(v(t)){var e=[];for(var r in t)y.call(t,r)&&e.push(t[r]);return e}for(var n in t)t[n]=s(t[n]);return t}function a(t){var e={base:{}};return w(b(t),function(r){i(e,r,t[r])}),s(e.base)}function u(t){var e=_(String(t).split("&"),function(t,e){var r=m(e,"="),n=p(e),o=e.substr(0,n||r),s=e.substr(n||r,e.length),s=s.substr(m(s,"=")+1,s.length);return""==o&&(o=e,s=""),""==o?t:i(t,d(o),d(s))},{base:{}}).base;return s(e)}function c(t,e){if(!e)throw new TypeError("stringify expects an object");return e+"="+encodeURIComponent(t)}function l(t,e){var r=[];if(!e)throw new TypeError("stringify expects an object");for(var n=0;n<t.length;n++)r.push(k(t[n],e+"["+n+"]"));return r.join("&")}function h(t,e){for(var r,n=[],o=b(t),i=0,s=o.length;s>i;++i)r=o[i],""!=r&&n.push(null==t[r]?encodeURIComponent(r)+"=":k(t[r],e?e+"["+encodeURIComponent(r)+"]":encodeURIComponent(r)));return n.join("&")}function f(t,e,r){var n=t[e];Object.getOwnPropertyDescriptor(Object.prototype,e)||(void 0===n?t[e]=r:v(n)?n.push(r):t[e]=[n,r])}function p(t){for(var e,r,n=t.length,o=0;n>o;++o)if(r=t[o],"]"==r&&(e=!1),"["==r&&(e=!0),"="==r&&!e)return o}function d(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}var g=Object.prototype.toString,y=Object.prototype.hasOwnProperty,m="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},v=Array.isArray||function(t){return"[object Array]"==g.call(t)},b=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},w="function"==typeof Array.prototype.forEach?function(t,e){return t.forEach(e)}:function(t,e){for(var r=0;r<t.length;r++)e(t[r])},_=function(t,e,r){if("function"==typeof t.reduce)return t.reduce(e,r);for(var n=r,o=0;o<t.length;o++)n=e(n,t[o]);return n},x=/^[0-9]+$/;r.parse=function(t){return null==t||""==t?{}:"object"==typeof t?a(t):u(t)};var k=r.stringify=function(t,e){return v(t)?l(t,e):"[object Object]"==g.call(t)?h(t,e):"string"==typeof t?c(t,e):e+"="+encodeURIComponent(String(t))}},{}],54:[function(t,e){(function(n,o){function i(t){var e;try{e=JSON.stringify(t)}catch(r){e=C(t)}return e}function s(t){return t.readable&&t.path&&t.mode}function a(t){return new o(t||"","ascii").toString("base64")}function u(t){return w.createHash("md5").update(t).digest("hex")}function c(t){m.Stream.call(this),this.readable=!0,this.writable=!0,"string"==typeof t&&(t={uri:t});var e=Object.keys(c.prototype);for(var r in t)-1===e.indexOf(r)?this[r]=t[r]:"function"==typeof t[r]&&delete t[r];t.method&&(this.explicitMethod=!0),this.canTunnel=t.tunnel!==!1&&A,this.init(t)}function l(){return M(this,"__"+(65536*(1+Math.random())|0).toString(16))}var h=t("./lib/optional"),f=t("http"),p=h("https"),d=h("tls"),g=t("url"),y=t("util"),m=t("stream"),v=t("qs"),b=t("querystring"),w=t("crypto"),_=h("oauth-sign"),x=h("hawk"),k=h("aws-sign2"),E=h("http-signature"),S=t("node-uuid"),j=t("mime"),A=h("tunnel-agent"),C=t("json-stringify-safe"),q=t("forever-agent"),O=h("form-data"),L=t("./lib/cookies"),T=L.jar(),R=t("./lib/copy"),I=t("./lib/debug"),M=t("./lib/getSafe"),U=t("net"),H={},B=/^https?:|^unix:/;p&&!p.Agent&&(p.Agent=function(t){f.Agent.call(this,t)},y.inherits(p.Agent,f.Agent),p.Agent.prototype._getConnection=function(t,e,r){var n=d.connect(e,t,this.options,function(){r&&r()});return n}),y.inherits(c,m.Stream),c.prototype.init=function(t){var e=this;if(t||(t={}),e.method||(e.method=t.method||"GET"),e.localAddress=t.localAddress,I(t),e.pool||e.pool===!1||(e.pool=H),e.dests=e.dests||[],e.__isRequestRequest=!0,!e._callback&&e.callback&&(e._callback=e.callback,e.callback=function(){e._callbackCalled||(e._callbackCalled=!0,e._callback.apply(e,arguments))},e.on("error",e.callback.bind()),e.on("complete",e.callback.bind(e,null))),e.url&&!e.uri&&(e.uri=e.url,delete e.url),!e.uri)return e.emit("error",new Error("options.uri is a required argument"));if("string"==typeof e.uri&&(e.uri=g.parse(e.uri)),e.strictSSL===!1&&(e.rejectUnauthorized=!1),e.proxy&&("string"==typeof e.proxy&&(e.proxy=g.parse(e.proxy)),f.globalAgent&&"https:"===e.uri.protocol&&e.canTunnel)){var i="http:"===e.proxy.protocol?A.httpsOverHttp:A.httpsOverHttps,u={proxy:{host:e.proxy.hostname,port:+e.proxy.port,proxyAuth:e.proxy.auth,headers:{Host:e.uri.hostname+":"+(e.uri.port||"https:"===e.uri.protocol?443:80)}},rejectUnauthorized:e.rejectUnauthorized,ca:this.ca};e.agent=i(u),e.tunnel=!0}if(e.uri.pathname||(e.uri.pathname="/"),!e.uri.host&&"unix:"==!e.protocol){var c=g.format(e.uri),l='Invalid URI "'+c+'"';return 0===Object.keys(t).length&&(l+=". This can be caused by a crappy redirection."),void e.emit("error",new Error(l))}e._redirectsFollowed=e._redirectsFollowed||0,e.maxRedirects=void 0!==e.maxRedirects?e.maxRedirects:10,e.followRedirect=void 0!==e.followRedirect?e.followRedirect:!0,e.followAllRedirects=void 0!==e.followAllRedirects?e.followAllRedirects:!1,(e.followRedirect||e.followAllRedirects)&&(e.redirects=e.redirects||[]),e.headers=e.headers?R(e.headers):{},e.setHost=!1,e.hasHeader("host")||(e.setHeader("host",e.uri.hostname),e.uri.port&&(80===e.uri.port&&"http:"===e.uri.protocol||443===e.uri.port&&"https:"===e.uri.protocol||e.setHeader("host",e.getHeader("host")+(":"+e.uri.port))),e.setHost=!0),e.jar(e._jar||t.jar),e.uri.port||("http:"==e.uri.protocol?e.uri.port=80:"https:"==e.uri.protocol&&(e.uri.port=443)),e.proxy&&!e.tunnel?(e.port=e.proxy.port,e.host=e.proxy.hostname):(e.port=e.uri.port,e.host=e.uri.hostname),e.clientErrorHandler=function(t){if(!e._aborted){if(e.req&&e.req._reusedSocket&&"ECONNRESET"===t.code&&e.agent.addRequestNoreuse)return e.agent={addRequest:e.agent.addRequestNoreuse.bind(e.agent)},e.start(),void e.req.end();e.timeout&&e.timeoutTimer&&(clearTimeout(e.timeoutTimer),e.timeoutTimer=null),e.emit("error",t)}},e._parserErrorHandler=function(t){this.res?this.res.request?this.res.request.emit("error",t):this.res.emit("error",t):this._httpMessage.emit("error",t)},e._buildRequest=function(){var e=this;if(t.form&&e.form(t.form),t.qs&&e.qs(t.qs),e.path=e.uri.path?e.uri.path:e.uri.pathname+(e.uri.search||""),0===e.path.length&&(e.path="/"),t.oauth&&e.oauth(t.oauth),t.aws&&e.aws(t.aws),t.hawk&&e.hawk(t.hawk),t.httpSignature&&e.httpSignature(t.httpSignature),t.auth&&(Object.prototype.hasOwnProperty.call(t.auth,"username")&&(t.auth.user=t.auth.username),Object.prototype.hasOwnProperty.call(t.auth,"password")&&(t.auth.pass=t.auth.password),e.auth(t.auth.user,t.auth.pass,t.auth.sendImmediately,t.auth.bearer)),e.uri.auth&&!e.hasHeader("authorization")){var r=e.uri.auth.split(":").map(function(t){return b.unescape(t)});e.auth(r[0],r.slice(1).join(":"),!0)}if(e.proxy&&e.proxy.auth&&!e.hasHeader("proxy-authorization")&&!e.tunnel&&e.setHeader("proxy-authorization","Basic "+a(e.proxy.auth.split(":").map(function(t){return b.unescape(t)}).join(":"))),e.proxy&&!e.tunnel&&(e.path=e.uri.protocol+"//"+e.uri.host+e.path),t.json?e.json(t.json):t.multipart&&(e.boundary=S(),e.multipart(t.multipart)),e.body){var i=0;if(o.isBuffer(e.body))i=e.body.length;else if(Array.isArray(e.body))for(var u=0;u<e.body.length;u++)i+=e.body[u].length;else e.body=new o(e.body),i=e.body.length;if(!i)throw new Error("Argument error, options.body.");e.hasHeader("content-length")||e.setHeader("content-length",i)}var c=e.proxy&&!e.tunnel?e.proxy.protocol:e.uri.protocol,l={"http:":f,"https:":p,"unix:":f},h=e.httpModules||{};return e.httpModule=h[c]||l[c],e.httpModule?(t.ca&&(e.ca=t.ca),e.agent||(t.agentOptions&&(e.agentOptions=t.agentOptions),e.agentClass=t.agentClass?t.agentClass:t.forever?"http:"===c?q:q.SSL:e.httpModule.Agent),e.pool===!1?e.agent=!1:(e.agent=e.agent||e.getAgent(),e.maxSockets&&(e.agent.maxSockets=e.maxSockets),e.pool.maxSockets&&(e.agent.maxSockets=e.pool.maxSockets)),e.on("pipe",function(t){if(e.ntick&&e._started)throw new Error("You cannot pipe to this stream after the outbound request has started.");if(e.src=t,s(t))e.hasHeader("content-type")||e.setHeader("content-type",j.lookup(t.path));else{if(t.headers)for(var r in t.headers)e.hasHeader(r)||e.setHeader(r,t.headers[r]);e._json&&!e.hasHeader("content-type")&&e.setHeader("content-type","application/json"),t.method&&!e.explicitMethod&&(e.method=t.method)}}),void n.nextTick(function(){if(!e._aborted){if(e._form){e.setHeaders(e._form.getHeaders());try{var t=e._form.getLengthSync();e.setHeader("content-length",t)}catch(r){}e._form.pipe(e)}e.body?(Array.isArray(e.body)?e.body.forEach(function(t){e.write(t)}):e.write(e.body),e.end()):e.requestBodyStream?(console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),e.requestBodyStream.pipe(e)):e.src||("GET"!==e.method&&"undefined"!=typeof e.method&&e.setHeader("content-length",0),e.end()),e.ntick=!0}})):this.emit("error",new Error("Invalid protocol: "+c))},e._handleUnixSocketURI=function(t){function e(t){var e=U.connect(t);e.path=t,e.on("error",function(){u[this.path].error_connecting=!0,this.end()}),e.on("connect",function(){u[this.path].error_connecting=!1,this.end()}),t.client=e}function o(){var t;(t="undefined"==typeof setImmediate?n.nextTick:setImmediate)(function(){response_counter++;var t=!1;for(r in u)"undefined"==typeof u[r].error_connecting&&(t=!0);t&&1e3>response_counter?o():i()})}function i(){var e;for(r in u)u[r].error_connecting===!1&&(e=r);e||t.emit("error",new Error("Failed to connect to any socket in "+s));var n=s.replace(e,"");t.socketPath=e,t.uri.pathname=n,t.uri.href=n,t.uri.path=n,t.host="",t.hostname="",delete t.host,delete t.hostname,t._buildRequest()}t.unixsocket=!0;var s=t.uri.href.replace(t.uri.protocol+"/",""),a=s.split("/"),u={};do u[a.join("/")]={};while(a.pop());for(r in u)e(r);o(),response_counter=0},/^unix:/.test(e.uri.protocol)?e._handleUnixSocketURI(e):e._buildRequest()},c.prototype._updateProtocol=function(){var t=this,e=t.uri.protocol;if("https:"===e){if(t.proxy&&t.canTunnel){t.tunnel=!0;var r="http:"===t.proxy.protocol?A.httpsOverHttp:A.httpsOverHttps,n={proxy:{host:t.proxy.hostname,port:+t.proxy.port,proxyAuth:t.proxy.auth},rejectUnauthorized:t.rejectUnauthorized,ca:t.ca};return void(t.agent=r(n))}switch(t.httpModule=p,t.agentClass){case q:t.agentClass=q.SSL;break;case f.Agent:t.agentClass=p.Agent;break;default:return}t.agent&&(t.agent=t.getAgent())}else{switch(t.tunnel&&(t.tunnel=!1),t.httpModule=f,t.agentClass){case q.SSL:t.agentClass=q;break;case p.Agent:t.agentClass=f.Agent;break;default:return}t.agent&&(t.agent=null,t.agent=t.getAgent())}},c.prototype.getAgent=function(){var t=this.agentClass,e={};if(this.agentOptions)for(var r in this.agentOptions)e[r]=this.agentOptions[r];this.ca&&(e.ca=this.ca),this.ciphers&&(e.ciphers=this.ciphers),this.secureProtocol&&(e.secureProtocol=this.secureProtocol),this.secureOptions&&(e.secureOptions=this.secureOptions),"undefined"!=typeof this.rejectUnauthorized&&(e.rejectUnauthorized=this.rejectUnauthorized),this.cert&&this.key&&(e.key=this.key,e.cert=this.cert);var n="";t!==this.httpModule.Agent&&(n+=t.name),this.httpModule.globalAgent||(e.host=this.host,e.port=this.port,n&&(n+=":"),n+=this.host+":"+this.port);var o=this.proxy;"string"==typeof o&&(o=g.parse(o));var i=o&&"https:"===o.protocol||"https:"===this.uri.protocol;return i&&(e.ca&&(n&&(n+=":"),n+=e.ca),"undefined"!=typeof e.rejectUnauthorized&&(n&&(n+=":"),n+=e.rejectUnauthorized),e.cert&&(n+=e.cert.toString("ascii")+e.key.toString("ascii")),e.ciphers&&(n&&(n+=":"),n+=e.ciphers),e.secureProtocol&&(n&&(n+=":"),n+=e.secureProtocol)),this.pool===H&&!n&&0===Object.keys(e).length&&this.httpModule.globalAgent?this.httpModule.globalAgent:(n=this.uri.protocol+n,this.pool[n]?this.pool[n]:this.pool[n]=new t(e))},c.prototype.start=function(){var t=this;if(!t._aborted){t._started=!0,t.method=t.method||"GET",t.href=t.uri.href,t.src&&t.src.stat&&t.src.stat.size&&!t.hasHeader("content-length")&&t.setHeader("content-length",t.src.stat.size),t._aws&&t.aws(t._aws,!0);var e=R(t);delete e.auth,I("make request",t.uri.href),t.req=t.httpModule.request(e,t.onResponse.bind(t)),t.timeout&&!t.timeoutTimer&&(t.timeoutTimer=setTimeout(function(){t.req.abort();var e=new Error("ETIMEDOUT");e.code="ETIMEDOUT",t.emit("error",e)},t.timeout),t.req.setTimeout&&t.req.setTimeout(t.timeout,function(){if(t.req){t.req.abort();var e=new Error("ESOCKETTIMEDOUT");e.code="ESOCKETTIMEDOUT",t.emit("error",e)}})),t.req.on("error",t.clientErrorHandler),t.req.on("drain",function(){t.emit("drain")}),t.on("end",function(){t.req.connection&&t.req.connection.removeListener("error",t._parserErrorHandler)}),t.emit("request",t.req)}},c.prototype.onResponse=function(t){var e=this;if(I("onResponse",e.uri.href,t.statusCode,t.headers),t.on("end",function(){I("response end",e.uri.href,t.statusCode,t.headers)}),-1===t.connection.listeners("error").indexOf(e._parserErrorHandler)&&t.connection.once("error",e._parserErrorHandler),e._aborted)return I("aborted",e.uri.href),void t.resume();if(e._paused?t.pause():t.resume(),e.response=t,t.request=e,t.toJSON=l,e.httpModule===p&&e.strictSSL&&!t.client.authorized){I("strict ssl error",e.uri.href);var r=t.client.authorizationError;return void e.emit("error",new Error("SSL Error: "+r))}e.setHost&&e.hasHeader("host")&&delete e.headers[e.hasHeader("host")],e.timeout&&e.timeoutTimer&&(clearTimeout(e.timeoutTimer),e.timeoutTimer=null);var n=e._jar&&e._jar.setCookie?e._jar:T,i=function(t){try{n.setCookie(t,e.uri.href,{ignoreError:!0})}catch(r){e.emit("error",r)}};if(D("set-cookie",t.headers)&&!e._disableCookies){var s=D("set-cookie",t.headers);Array.isArray(t.headers[s])?t.headers[s].forEach(i):i(t.headers[s])}var a=null;if(t.statusCode>=300&&t.statusCode<400&&D("location",t.headers)){var c=t.headers[D("location",t.headers)];if(I("redirect",c),e.followAllRedirects)a=c;else if(e.followRedirect)switch(e.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:a=c}}else if(401==t.statusCode&&e._hasAuth&&!e._sentAuth){var h=t.headers[D("www-authenticate",t.headers)],f=h&&h.split(" ")[0].toLowerCase();switch(I("reauth",f),f){case"basic":e.auth(e._user,e._pass,!0),a=e.uri;break;case"bearer":e.auth(null,null,!0,e._bearer),a=e.uri;break;case"digest":for(var d={},y=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var m=y.exec(h);if(!m)break;d[m[1]]=m[2]||m[3]}var v=u(e._user+":"+d.realm+":"+e._pass),b=u(e.method+":"+e.uri.path),w=/(^|,)\s*auth\s*($|,)/.test(d.qop)&&"auth",_=w&&"00000001",x=w&&S().replace(/-/g,""),k=u(w?v+":"+d.nonce+":"+_+":"+x+":"+w+":"+b:v+":"+d.nonce+":"+b),E={username:e._user,realm:d.realm,nonce:d.nonce,uri:e.uri.path,qop:w,response:k,nc:_,cnonce:x,algorithm:d.algorithm,opaque:d.opaque};h=[];for(var j in E)E[j]&&h.push("qop"===j||"nc"===j||"algorithm"===j?j+"="+E[j]:j+'="'+E[j]+'"');h="Digest "+h.join(", "),e.setHeader("authorization",h),e._sentAuth=!0,a=e.uri}}if(a){if(I("redirect to",a),e._paused&&t.resume(),e._redirectsFollowed>=e.maxRedirects)return void e.emit("error",new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+e.uri.href));e._redirectsFollowed+=1,B.test(a)||(a=g.resolve(e.uri.href,a));var A=e.uri;return e.uri=g.parse(a),e.uri.protocol!==A.protocol&&e._updateProtocol(),e.redirects.push({statusCode:t.statusCode,redirectUri:a}),e.followAllRedirects&&401!=t.statusCode&&307!=t.statusCode&&(e.method="GET"),delete e.src,delete e.req,delete e.agent,delete e._started,401!=t.statusCode&&307!=t.statusCode&&(delete e.body,delete e._form,e.headers&&(e.hasHeader("host")&&delete e.headers[e.hasHeader("host")],e.hasHeader("content-type")&&delete e.headers[e.hasHeader("content-type")],e.hasHeader("content-length")&&delete e.headers[e.hasHeader("content-length")])),e.emit("redirect"),void e.init()}if(e._redirectsFollowed=e._redirectsFollowed||0,t.on("close",function(){e._ended||e.response.emit("end")}),e.encoding&&(0!==e.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):t.setEncoding(e.encoding)),e.emit("response",t),e.dests.forEach(function(t){e.pipeDest(t)}),t.on("data",function(t){e._destdata=!0,e.emit("data",t)}),t.on("end",function(t){e._ended=!0,e.emit("end",t)}),t.on("close",function(){e.emit("close")}),e.callback){var C=[],q=0;e.on("data",function(t){C.push(t),q+=t.length}),e.on("end",function(){if(I("end event",e.uri.href),e._aborted)return void I("aborted",e.uri.href);if(C.length&&o.isBuffer(C[0])){I("has body",e.uri.href,q);var r=new o(q),n=0;C.forEach(function(t){t.copy(r,n,0,t.length),n+=t.length}),t.body=null===e.encoding?r:r.toString(e.encoding)}else C.length&&("utf8"===e.encoding&&C[0].length>0&&""===C[0][0]&&(C[0]=C[0].substring(1)),t.body=C.join(""));if(e._json)try{t.body=JSON.parse(t.body)}catch(i){}I("emitting complete",e.uri.href),void 0!=t.body||e._json||(t.body=""),e.emit("complete",t,t.body)})}else e.on("end",function(){return e._aborted?void I("aborted",e.uri.href):void e.emit("complete",t)});I("finish init function",e.uri.href)},c.prototype.abort=function(){this._aborted=!0,this.req?this.req.abort():this.response&&this.response.abort(),this.emit("abort")},c.prototype.pipeDest=function(t){var e=this.response;if(t.headers&&!t.headersSent){if(D("content-type",e.headers)){var r=D("content-type",e.headers);t.setHeader?t.setHeader(r,e.headers[r]):t.headers[r]=e.headers[r]}if(D("content-length",e.headers)){var n=D("content-length",e.headers);t.setHeader?t.setHeader(n,e.headers[n]):t.headers[n]=e.headers[n]}}if(t.setHeader&&!t.headersSent){for(var o in e.headers)t.setHeader(o,e.headers[o]);t.statusCode=e.statusCode}this.pipefilter&&this.pipefilter(e,t)},c.prototype.setHeader=function(t,e,r){return void 0===r&&(r=!0),r||!this.hasHeader(t)?this.headers[t]=e:this.headers[this.hasHeader(t)]+=","+e,this},c.prototype.setHeaders=function(t){for(var e in t)this.setHeader(e,t[e]);return this},c.prototype.hasHeader=function(t,e){var e=Object.keys(e||this.headers),r=e.map(function(t){return t.toLowerCase()});t=t.toLowerCase();for(var n=0;n<r.length;n++)if(r[n]===t)return e[n];return!1};var D=c.prototype.hasHeader;c.prototype.qs=function(t,e){var r;r=!e&&this.uri.query?v.parse(this.uri.query):{};for(var n in t)r[n]=t[n];return""===v.stringify(r)?this:(this.uri=g.parse(this.uri.href.split("?")[0]+"?"+v.stringify(r)),this.url=this.uri,this.path=this.uri.path,this)},c.prototype.form=function(t){return t?(this.setHeader("content-type","application/x-www-form-urlencoded; charset=utf-8"),this.body=v.stringify(t).toString("utf8"),this):(this._form=new O,this._form)},c.prototype.multipart=function(t){var e=this;if(e.body=[],e.hasHeader("content-type")){var r=e.hasHeader("content-type");e.setHeader(r,e.headers[r].split(";")[0]+"; boundary="+e.boundary)}else e.setHeader("content-type","multipart/related; boundary="+e.boundary);if(!t.forEach)throw new Error("Argument error, options.multipart.");return e.preambleCRLF&&e.body.push(new o("\r\n")),t.forEach(function(t){var r=t.body;if(null==r)throw Error("Body attribute missing in multipart.");delete t.body;var n="--"+e.boundary+"\r\n";Object.keys(t).forEach(function(e){n+=e+": "+t[e]+"\r\n"}),n+="\r\n",e.body.push(new o(n)),e.body.push(new o(r)),e.body.push(new o("\r\n"))}),e.body.push(new o("--"+e.boundary+"--")),e},c.prototype.json=function(t){var e=this;return e.hasHeader("accept")||e.setHeader("accept","application/json"),this._json=!0,"boolean"==typeof t?"object"==typeof this.body&&(this.body=i(this.body),e.hasHeader("content-type")||e.setHeader("content-type","application/json")):(this.body=i(t),e.hasHeader("content-type")||e.setHeader("content-type","application/json")),this},c.prototype.getHeader=function(t,e){var r,n,o;return e||(e=this.headers),Object.keys(e).forEach(function(i){i.length===t.length&&(n=new RegExp(t,"i"),o=i.match(n),o&&(r=e[i]))}),r};var N=c.prototype.getHeader;c.prototype.auth=function(t,e,r,n){if(void 0!==n)return this._bearer=n,this._hasAuth=!0,(r||"undefined"==typeof r)&&("function"==typeof n&&(n=n()),this.setHeader("authorization","Bearer "+n),this._sentAuth=!0),this;if("string"!=typeof t||void 0!==e&&"string"!=typeof e)throw new Error("auth() received invalid user or password");this._user=t,this._pass=e,this._hasAuth=!0;var o="undefined"!=typeof e?t+":"+e:t;return(r||"undefined"==typeof r)&&(this.setHeader("authorization","Basic "+a(o)),this._sentAuth=!0),this},c.prototype.aws=function(t,e){if(!e)return this._aws=t,this;var r=new Date;this.setHeader("date",r.toUTCString());var n={key:t.key,secret:t.secret,verb:this.method.toUpperCase(),date:r,contentType:this.getHeader("content-type")||"",md5:this.getHeader("content-md5")||"",amazonHeaders:k.canonicalizeHeaders(this.headers)};return t.bucket&&this.path?n.resource="/"+t.bucket+this.path:t.bucket&&!this.path?n.resource="/"+t.bucket:!t.bucket&&this.path?n.resource=this.path:t.bucket||this.path||(n.resource="/"),n.resource=k.canonicalizeResource(n.resource),this.setHeader("authorization",k.authorization(n)),this},c.prototype.httpSignature=function(t){var e=this;return E.signRequest({getHeader:function(t){return N(t,e.headers)},setHeader:function(t,r){e.setHeader(t,r)},method:this.method,path:this.path},t),I("httpSignature authorization",this.getHeader("authorization")),this},c.prototype.hawk=function(t){this.setHeader("Authorization",x.client.header(this.uri,this.method,t).field)},c.prototype.oauth=function(t){var e;this.hasHeader("content-type")&&"application/x-www-form-urlencoded"===this.getHeader("content-type").slice(0,"application/x-www-form-urlencoded".length)&&(e=v.parse(this.body)),this.uri.query&&(e=v.parse(this.uri.query)),e||(e={});var r={};for(var n in e)r[n]=e[n];for(var n in t)r["oauth_"+n]=t[n];r.oauth_version||(r.oauth_version="1.0"),r.oauth_timestamp||(r.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),r.oauth_nonce||(r.oauth_nonce=S().replace(/-/g,"")),r.oauth_signature_method="HMAC-SHA1";var o=r.oauth_consumer_secret;delete r.oauth_consumer_secret;var i=r.oauth_token_secret;delete r.oauth_token_secret;var s=r.oauth_timestamp,a=this.uri.protocol+"//"+this.uri.host+this.uri.pathname,u=_.hmacsign(this.method,a,r,o,i);for(var n in e)n.slice(0,"oauth_")in t||(delete r["oauth_"+n],"x_auth_mode"!==n&&delete r[n]);r.oauth_timestamp=s;var c="OAuth "+Object.keys(r).sort().map(function(t){return t+'="'+_.rfc3986(r[t])+'"'}).join(",");return c+=',oauth_signature="'+_.rfc3986(u)+'"',this.setHeader("Authorization",c),this},c.prototype.jar=function(t){var e;if(0===this._redirectsFollowed&&(this.originalCookieHeader=this.getHeader("cookie")),t){var r=t&&t.getCookieString?t:T,n=this.uri.href;r&&(e=r.getCookieString(n))}else e=!1,this._disableCookies=!0;return e&&e.length&&(this.originalCookieHeader?this.setHeader("cookie",this.originalCookieHeader+"; "+e):this.setHeader("cookie",e)),this._jar=t,this},c.prototype.pipe=function(t,e){if(this.response){if(this._destdata)throw new Error("You cannot pipe after data has been emitted from the response.");if(this._ended)throw new Error("You cannot pipe after the response has been ended.");return m.Stream.prototype.pipe.call(this,t,e),this.pipeDest(t),t}return this.dests.push(t),m.Stream.prototype.pipe.call(this,t,e),t},c.prototype.write=function(){return this._started||this.start(),this.req.write.apply(this.req,arguments)},c.prototype.end=function(t){t&&this.write(t),this._started||this.start(),this.req.end()},c.prototype.pause=function(){this.response?this.response.pause.apply(this.response,arguments):this._paused=!0},c.prototype.resume=function(){this.response?this.response.resume.apply(this.response,arguments):this._paused=!1},c.prototype.destroy=function(){this._ended?this.response&&this.response.destroy():this.end()},c.prototype.toJSON=l,e.exports=c}).call(this,t("1YiZ5S"),t("buffer").Buffer)},{"./lib/cookies":44,"./lib/copy":45,"./lib/debug":46,"./lib/getSafe":47,"./lib/optional":48,"1YiZ5S":27,buffer:10,crypto:14,"forever-agent":49,http:20,"json-stringify-safe":50,mime:51,net:9,"node-uuid":52,qs:53,querystring:31,stream:33,url:40,util:42}],55:[function(t,e,r){(function(){var t=this,n=t._,o={},i=Array.prototype,s=Object.prototype,a=Function.prototype,u=i.push,c=i.slice,l=i.concat,h=s.toString,f=s.hasOwnProperty,p=i.forEach,d=i.map,g=i.reduce,y=i.reduceRight,m=i.filter,v=i.every,b=i.some,w=i.indexOf,_=i.lastIndexOf,x=Array.isArray,k=Object.keys,E=a.bind,S=function(t){return t instanceof S?t:this instanceof S?void(this._wrapped=t):new S(t)};"undefined"!=typeof r?("undefined"!=typeof e&&e.exports&&(r=e.exports=S),r._=S):t._=S,S.VERSION="1.6.0";var j=S.each=S.forEach=function(t,e,r){if(null==t)return t;if(p&&t.forEach===p)t.forEach(e,r);else if(t.length===+t.length){for(var n=0,i=t.length;i>n;n++)if(e.call(r,t[n],n,t)===o)return}else for(var s=S.keys(t),n=0,i=s.length;i>n;n++)if(e.call(r,t[s[n]],s[n],t)===o)return;return t};S.map=S.collect=function(t,e,r){var n=[];return null==t?n:d&&t.map===d?t.map(e,r):(j(t,function(t,o,i){n.push(e.call(r,t,o,i))}),n)};var A="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(t,e,r,n){var o=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return n&&(e=S.bind(e,n)),o?t.reduce(e,r):t.reduce(e);
if(j(t,function(t,i,s){o?r=e.call(n,r,t,i,s):(r=t,o=!0)}),!o)throw new TypeError(A);return r},S.reduceRight=S.foldr=function(t,e,r,n){var o=arguments.length>2;if(null==t&&(t=[]),y&&t.reduceRight===y)return n&&(e=S.bind(e,n)),o?t.reduceRight(e,r):t.reduceRight(e);var i=t.length;if(i!==+i){var s=S.keys(t);i=s.length}if(j(t,function(a,u,c){u=s?s[--i]:--i,o?r=e.call(n,r,t[u],u,c):(r=t[u],o=!0)}),!o)throw new TypeError(A);return r},S.find=S.detect=function(t,e,r){var n;return C(t,function(t,o,i){return e.call(r,t,o,i)?(n=t,!0):void 0}),n},S.filter=S.select=function(t,e,r){var n=[];return null==t?n:m&&t.filter===m?t.filter(e,r):(j(t,function(t,o,i){e.call(r,t,o,i)&&n.push(t)}),n)},S.reject=function(t,e,r){return S.filter(t,function(t,n,o){return!e.call(r,t,n,o)},r)},S.every=S.all=function(t,e,r){e||(e=S.identity);var n=!0;return null==t?n:v&&t.every===v?t.every(e,r):(j(t,function(t,i,s){return(n=n&&e.call(r,t,i,s))?void 0:o}),!!n)};var C=S.some=S.any=function(t,e,r){e||(e=S.identity);var n=!1;return null==t?n:b&&t.some===b?t.some(e,r):(j(t,function(t,i,s){return n||(n=e.call(r,t,i,s))?o:void 0}),!!n)};S.contains=S.include=function(t,e){return null==t?!1:w&&t.indexOf===w?-1!=t.indexOf(e):C(t,function(t){return t===e})},S.invoke=function(t,e){var r=c.call(arguments,2),n=S.isFunction(e);return S.map(t,function(t){return(n?e:t[e]).apply(t,r)})},S.pluck=function(t,e){return S.map(t,S.property(e))},S.where=function(t,e){return S.filter(t,S.matches(e))},S.findWhere=function(t,e){return S.find(t,S.matches(e))},S.max=function(t,e,r){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var n=-1/0,o=-1/0;return j(t,function(t,i,s){var a=e?e.call(r,t,i,s):t;a>o&&(n=t,o=a)}),n},S.min=function(t,e,r){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var n=1/0,o=1/0;return j(t,function(t,i,s){var a=e?e.call(r,t,i,s):t;o>a&&(n=t,o=a)}),n},S.shuffle=function(t){var e,r=0,n=[];return j(t,function(t){e=S.random(r++),n[r-1]=n[e],n[e]=t}),n},S.sample=function(t,e,r){return null==e||r?(t.length!==+t.length&&(t=S.values(t)),t[S.random(t.length-1)]):S.shuffle(t).slice(0,Math.max(0,e))};var q=function(t){return null==t?S.identity:S.isFunction(t)?t:S.property(t)};S.sortBy=function(t,e,r){return e=q(e),S.pluck(S.map(t,function(t,n,o){return{value:t,index:n,criteria:e.call(r,t,n,o)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(n>r||void 0===n)return-1}return t.index-e.index}),"value")};var O=function(t){return function(e,r,n){var o={};return r=q(r),j(e,function(i,s){var a=r.call(n,i,s,e);t(o,a,i)}),o}};S.groupBy=O(function(t,e,r){S.has(t,e)?t[e].push(r):t[e]=[r]}),S.indexBy=O(function(t,e,r){t[e]=r}),S.countBy=O(function(t,e){S.has(t,e)?t[e]++:t[e]=1}),S.sortedIndex=function(t,e,r,n){r=q(r);for(var o=r.call(n,e),i=0,s=t.length;s>i;){var a=i+s>>>1;r.call(n,t[a])<o?i=a+1:s=a}return i},S.toArray=function(t){return t?S.isArray(t)?c.call(t):t.length===+t.length?S.map(t,S.identity):S.values(t):[]},S.size=function(t){return null==t?0:t.length===+t.length?t.length:S.keys(t).length},S.first=S.head=S.take=function(t,e,r){return null==t?void 0:null==e||r?t[0]:0>e?[]:c.call(t,0,e)},S.initial=function(t,e,r){return c.call(t,0,t.length-(null==e||r?1:e))},S.last=function(t,e,r){return null==t?void 0:null==e||r?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},S.rest=S.tail=S.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},S.compact=function(t){return S.filter(t,S.identity)};var L=function(t,e,r){return e&&S.every(t,S.isArray)?l.apply(r,t):(j(t,function(t){S.isArray(t)||S.isArguments(t)?e?u.apply(r,t):L(t,e,r):r.push(t)}),r)};S.flatten=function(t,e){return L(t,e,[])},S.without=function(t){return S.difference(t,c.call(arguments,1))},S.partition=function(t,e){var r=[],n=[];return j(t,function(t){(e(t)?r:n).push(t)}),[r,n]},S.uniq=S.unique=function(t,e,r,n){S.isFunction(e)&&(n=r,r=e,e=!1);var o=r?S.map(t,r,n):t,i=[],s=[];return j(o,function(r,n){(e?n&&s[s.length-1]===r:S.contains(s,r))||(s.push(r),i.push(t[n]))}),i},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(t){var e=c.call(arguments,1);return S.filter(S.uniq(t),function(t){return S.every(e,function(e){return S.contains(e,t)})})},S.difference=function(t){var e=l.apply(i,c.call(arguments,1));return S.filter(t,function(t){return!S.contains(e,t)})},S.zip=function(){for(var t=S.max(S.pluck(arguments,"length").concat(0)),e=new Array(t),r=0;t>r;r++)e[r]=S.pluck(arguments,""+r);return e},S.object=function(t,e){if(null==t)return{};for(var r={},n=0,o=t.length;o>n;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},S.indexOf=function(t,e,r){if(null==t)return-1;var n=0,o=t.length;if(r){if("number"!=typeof r)return n=S.sortedIndex(t,e),t[n]===e?n:-1;n=0>r?Math.max(0,o+r):r}if(w&&t.indexOf===w)return t.indexOf(e,r);for(;o>n;n++)if(t[n]===e)return n;return-1},S.lastIndexOf=function(t,e,r){if(null==t)return-1;var n=null!=r;if(_&&t.lastIndexOf===_)return n?t.lastIndexOf(e,r):t.lastIndexOf(e);for(var o=n?r:t.length;o--;)if(t[o]===e)return o;return-1},S.range=function(t,e,r){arguments.length<=1&&(e=t||0,t=0),r=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/r),0),o=0,i=new Array(n);n>o;)i[o++]=t,t+=r;return i};var T=function(){};S.bind=function(t,e){var r,n;if(E&&t.bind===E)return E.apply(t,c.call(arguments,1));if(!S.isFunction(t))throw new TypeError;return r=c.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,r.concat(c.call(arguments)));T.prototype=t.prototype;var o=new T;T.prototype=null;var i=t.apply(o,r.concat(c.call(arguments)));return Object(i)===i?i:o}},S.partial=function(t){var e=c.call(arguments,1);return function(){for(var r=0,n=e.slice(),o=0,i=n.length;i>o;o++)n[o]===S&&(n[o]=arguments[r++]);for(;r<arguments.length;)n.push(arguments[r++]);return t.apply(this,n)}},S.bindAll=function(t){var e=c.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return j(e,function(e){t[e]=S.bind(t[e],t)}),t},S.memoize=function(t,e){var r={};return e||(e=S.identity),function(){var n=e.apply(this,arguments);return S.has(r,n)?r[n]:r[n]=t.apply(this,arguments)}},S.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},S.defer=function(t){return S.delay.apply(S,[t,1].concat(c.call(arguments,1)))},S.throttle=function(t,e,r){var n,o,i,s=null,a=0;r||(r={});var u=function(){a=r.leading===!1?0:S.now(),s=null,i=t.apply(n,o),n=o=null};return function(){var c=S.now();a||r.leading!==!1||(a=c);var l=e-(c-a);return n=this,o=arguments,0>=l?(clearTimeout(s),s=null,a=c,i=t.apply(n,o),n=o=null):s||r.trailing===!1||(s=setTimeout(u,l)),i}},S.debounce=function(t,e,r){var n,o,i,s,a,u=function(){var c=S.now()-s;e>c?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(i,o),i=o=null))};return function(){i=this,o=arguments,s=S.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(i,o),i=o=null),a}},S.once=function(t){var e,r=!1;return function(){return r?e:(r=!0,e=t.apply(this,arguments),t=null,e)}},S.wrap=function(t,e){return S.partial(e,t)},S.compose=function(){var t=arguments;return function(){for(var e=arguments,r=t.length-1;r>=0;r--)e=[t[r].apply(this,e)];return e[0]}},S.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},S.keys=function(t){if(!S.isObject(t))return[];if(k)return k(t);var e=[];for(var r in t)S.has(t,r)&&e.push(r);return e},S.values=function(t){for(var e=S.keys(t),r=e.length,n=new Array(r),o=0;r>o;o++)n[o]=t[e[o]];return n},S.pairs=function(t){for(var e=S.keys(t),r=e.length,n=new Array(r),o=0;r>o;o++)n[o]=[e[o],t[e[o]]];return n},S.invert=function(t){for(var e={},r=S.keys(t),n=0,o=r.length;o>n;n++)e[t[r[n]]]=r[n];return e},S.functions=S.methods=function(t){var e=[];for(var r in t)S.isFunction(t[r])&&e.push(r);return e.sort()},S.extend=function(t){return j(c.call(arguments,1),function(e){if(e)for(var r in e)t[r]=e[r]}),t},S.pick=function(t){var e={},r=l.apply(i,c.call(arguments,1));return j(r,function(r){r in t&&(e[r]=t[r])}),e},S.omit=function(t){var e={},r=l.apply(i,c.call(arguments,1));for(var n in t)S.contains(r,n)||(e[n]=t[n]);return e},S.defaults=function(t){return j(c.call(arguments,1),function(e){if(e)for(var r in e)void 0===t[r]&&(t[r]=e[r])}),t},S.clone=function(t){return S.isObject(t)?S.isArray(t)?t.slice():S.extend({},t):t},S.tap=function(t,e){return e(t),t};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof S&&(t=t._wrapped),e instanceof S&&(e=e._wrapped);var o=h.call(t);if(o!=h.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var i=r.length;i--;)if(r[i]==t)return n[i]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(S.isFunction(s)&&s instanceof s&&S.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;r.push(t),n.push(e);var u=0,c=!0;if("[object Array]"==o){if(u=t.length,c=u==e.length)for(;u--&&(c=R(t[u],e[u],r,n)););}else{for(var l in t)if(S.has(t,l)&&(u++,!(c=S.has(e,l)&&R(t[l],e[l],r,n))))break;if(c){for(l in e)if(S.has(e,l)&&!u--)break;c=!u}}return r.pop(),n.pop(),c};S.isEqual=function(t,e){return R(t,e,[],[])},S.isEmpty=function(t){if(null==t)return!0;if(S.isArray(t)||S.isString(t))return 0===t.length;for(var e in t)if(S.has(t,e))return!1;return!0},S.isElement=function(t){return!(!t||1!==t.nodeType)},S.isArray=x||function(t){return"[object Array]"==h.call(t)},S.isObject=function(t){return t===Object(t)},j(["Arguments","Function","String","Number","Date","RegExp"],function(t){S["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),S.isArguments(arguments)||(S.isArguments=function(t){return!(!t||!S.has(t,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(t){return"function"==typeof t}),S.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},S.isNaN=function(t){return S.isNumber(t)&&t!=+t},S.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},S.isNull=function(t){return null===t},S.isUndefined=function(t){return void 0===t},S.has=function(t,e){return f.call(t,e)},S.noConflict=function(){return t._=n,this},S.identity=function(t){return t},S.constant=function(t){return function(){return t}},S.property=function(t){return function(e){return e[t]}},S.matches=function(t){return function(e){if(e===t)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0}},S.times=function(t,e,r){for(var n=Array(Math.max(0,t)),o=0;t>o;o++)n[o]=e.call(r,o);return n},S.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},S.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=S.invert(I.escape);var M={escape:new RegExp("["+S.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(I.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(t){S[t]=function(e){return null==e?"":(""+e).replace(M[t],function(e){return I[t][e]})}}),S.result=function(t,e){if(null==t)return void 0;var r=t[e];return S.isFunction(r)?r.call(t):r},S.mixin=function(t){j(S.functions(t),function(e){var r=S[e]=t[e];S.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),N.call(this,r.apply(S,t))}})};var U=0;S.uniqueId=function(t){var e=++U+"";return t?t+e:e},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(t,e,r){var n;r=S.defaults({},r,S.templateSettings);var o=new RegExp([(r.escape||H).source,(r.interpolate||H).source,(r.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(o,function(e,r,n,o,a){return s+=t.slice(i,a).replace(D,function(t){return"\\"+B[t]}),r&&(s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),i=a+e.length,e}),s+="';\n",r.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(r.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return n(e,S);var u=function(t){return n.call(this,t,S)};return u.source="function("+(r.variable||"obj")+"){\n"+s+"}",u},S.chain=function(t){return S(t).chain()};var N=function(t){return this._chain?S(t).chain():t};S.mixin(S),j(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];S.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!=t&&"splice"!=t||0!==r.length||delete r[0],N.call(this,r)}}),j(["concat","join","slice"],function(t){var e=i[t];S.prototype[t]=function(){return N.call(this,e.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return S})}).call(this)},{}],56:[function(t,e){e.exports=function(){function e(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var r={parse:function(r,n){function o(t){_>b||(b>_&&(_=b,x=[]),x.push(t))}function i(){var t,e,r;for(r=b,t=[],e=d(),null===e&&(e=s());null!==e;)t.push(e),e=d(),null===e&&(e=s());return null!==t&&(t=function(t,e){return new E(e)}(r,t)),null===t&&(b=r),t}function s(){var t,e,n,i,s,u;return s=b,u=b,123===r.charCodeAt(b)?(t="{",b++):(t=null,0===w&&o('"{"')),null!==t?(e=a(),null!==e?(n=c(),null!==n?(125===r.charCodeAt(b)?(i="}",b++):(i=null,0===w&&o('"}"')),null!==i?t=[t,e,n,i]:(t=null,b=u)):(t=null,b=u)):(t=null,b=u)):(t=null,b=u),null!==t&&(t=function(t,e,r){return S(e,r)}(s,t[1],t[2])),null===t&&(b=s),t}function a(){var t;return/^[\/;:.?&+#]/.test(r.charAt(b))?(t=r.charAt(b),b++):(t=null,0===w&&o("[\\/;:.?&+#]")),null===t&&(t=""),t}function u(){var t;return"{/"===r.substr(b,2)?(t="{/",b+=2):(t=null,0===w&&o('"{/"')),t}function c(){var t,e,n,i,s,a,u,c;if(s=b,a=b,t=l(),null!==t){for(e=[],u=b,c=b,44===r.charCodeAt(b)?(n=",",b++):(n=null,0===w&&o('","')),null!==n?(i=l(),null!==i?n=[n,i]:(n=null,b=c)):(n=null,b=c),null!==n&&(n=function(t,e){return e}(u,n[1])),null===n&&(b=u);null!==n;)e.push(n),u=b,c=b,44===r.charCodeAt(b)?(n=",",b++):(n=null,0===w&&o('","')),null!==n?(i=l(),null!==i?n=[n,i]:(n=null,b=c)):(n=null,b=c),null!==n&&(n=function(t,e){return e}(u,n[1])),null===n&&(b=u);null!==e?t=[t,e]:(t=null,b=a)}else t=null,b=a;return null!==t&&(t=function(t,e,r){return r.unshift(e),r}(s,t[0],t[1])),null===t&&(b=s),t}function l(){var t,e,n,i,s;for(i=b,s=b,t=[],/^[a-zA-Z0-9_.%]/.test(r.charAt(b))?(e=r.charAt(b),b++):(e=null,0===w&&o("[a-zA-Z0-9_.%]"));null!==e;)t.push(e),/^[a-zA-Z0-9_.%]/.test(r.charAt(b))?(e=r.charAt(b),b++):(e=null,0===w&&o("[a-zA-Z0-9_.%]"));return null!==t?(e=h(),null===e&&(e=f()),e=null!==e?e:"",null!==e?(n=g(),n=null!==n?n:"",null!==n?t=[t,e,n]:(t=null,b=s)):(t=null,b=s)):(t=null,b=s),null!==t&&(t=function(t,e,r,n){return r=r||{},{name:e.join(""),explode:r.listMarker,cut:r.cut,extended:n}}(i,t[0],t[1],t[2])),null===t&&(b=i),t}function h(){var t,e;return e=b,t=p(),null!==t&&(t=function(t,e){return{cut:e}}(e,t)),null===t&&(b=e),t}function f(){var t,e;return e=b,42===r.charCodeAt(b)?(t="*",b++):(t=null,0===w&&o('"*"')),null!==t&&(t=function(t,e){return{listMarker:e}}(e,t)),null===t&&(b=e),t}function p(){var t,e,n,i,s;if(i=b,s=b,58===r.charCodeAt(b)?(t=":",b++):(t=null,0===w&&o('":"')),null!==t){if(/^[0-9]/.test(r.charAt(b))?(n=r.charAt(b),b++):(n=null,0===w&&o("[0-9]")),null!==n)for(e=[];null!==n;)e.push(n),/^[0-9]/.test(r.charAt(b))?(n=r.charAt(b),b++):(n=null,0===w&&o("[0-9]"));else e=null;null!==e?t=[t,e]:(t=null,b=s)}else t=null,b=s;return null!==t&&(t=function(t,e){return parseInt(e.join(""))}(i,t[1])),null===t&&(b=i),t}function d(){var t,e,n;if(n=b,/^[^{]/.test(r.charAt(b))?(e=r.charAt(b),b++):(e=null,0===w&&o("[^{]")),null!==e)for(t=[];null!==e;)t.push(e),/^[^{]/.test(r.charAt(b))?(e=r.charAt(b),b++):(e=null,0===w&&o("[^{]"));else t=null;return null!==t&&(t=function(t,e){return e.join("")}(n,t)),null===t&&(b=n),t}function g(){var t,e,n,i,s;if(i=b,s=b,40===r.charCodeAt(b)?(t="(",b++):(t=null,0===w&&o('"("')),null!==t){if(/^[^)]/.test(r.charAt(b))?(n=r.charAt(b),b++):(n=null,0===w&&o("[^)]")),null!==n)for(e=[];null!==n;)e.push(n),/^[^)]/.test(r.charAt(b))?(n=r.charAt(b),b++):(n=null,0===w&&o("[^)]"));else e=null;null!==e?(41===r.charCodeAt(b)?(n=")",b++):(n=null,0===w&&o('")"')),null!==n?t=[t,e,n]:(t=null,b=s)):(t=null,b=s)}else t=null,b=s;return null!==t&&(t=function(t,e){return e.join("")}(i,t[1])),null===t&&(b=i),t}function y(t){t.sort();for(var e=null,r=[],n=0;n<t.length;n++)t[n]!==e&&(r.push(t[n]),e=t[n]);return r}function m(){for(var t=1,e=1,n=!1,o=0;o<Math.max(b,_);o++){var i=r.charAt(o);"\n"===i?(n||t++,e=1,n=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t++,e=1,n=!0):(e++,n=!1)}return{line:t,column:e}}var v={uriTemplate:i,expression:s,op:a,pathExpression:u,paramList:c,param:l,cut:h,listMarker:f,substr:p,nonexpression:d,extension:g};if(void 0!==n){if(void 0===v[n])throw new Error("Invalid rule name: "+e(n)+".")}else n="uriTemplate";var b=0,w=0,_=0,x=[],k=t("./lib/classes"),E=k.Template,S=k.expression,j=v[n]();if(null===j||b!==r.length){var A=Math.max(b,_),C=A<r.length?r.charAt(A):null,q=m();throw new this.SyntaxError(y(x),C,A,q.line,q.column)}return j},toSource:function(){return this._source}};return r.SyntaxError=function(t,r,n,o,i){function s(t,r){var n,o;switch(t.length){case 0:n="end of input";break;case 1:n=t[0];break;default:n=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return o=r?e(r):"end of input","Expected "+n+" but "+o+" found."}this.name="SyntaxError",this.expected=t,this.found=r,this.message=s(t,r),this.offset=n,this.line=o,this.column=i},r.SyntaxError.prototype=Error.prototype,r}()},{"./lib/classes":57}],57:[function(t,e){(function(){var r,n,o,i,s,a,u,c,l,h,f,p,d,g,y,m,v,b,w,_=function(t,e){return function(){return t.apply(e,arguments)}},x={}.hasOwnProperty,k=function(t,e){function r(){this.constructor=t}for(var n in e)x.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};f=t("./encoders"),h=h=function(){function t(t){var e,r=this;this.expressions=[],this.prefix="string"==typeof t[0]?t.shift():"",e=0,t.forEach(function(t){switch(typeof t){case"object":return r.expressions[e++]=t;case"string":return r.expressions[e-1].suffix=t}})}return t.prototype.expand=function(t){return this.prefix+this.expressions.map(function(e){return e.expand(t)}).join("")},t.prototype.toString=function(){return this.prefix+this.expressions.join("")},t.prototype.toJSON=function(){return this.toString()},t}(),l=function(){function t(t){var e;this.params=t,this.explodeObject=_(this.explodeObject,this),this.explodeArray=_(this.explodeArray,this),this._expandPair=_(this._expandPair,this),this.stringifySingle=_(this.stringifySingle,this),this.encode=_(this.encode,this),null==(e=this.params)&&(this.params=[]),this.suffix=""}var e;return t.prototype.first="",t.prototype.sep=",",t.prototype.named=!1,t.prototype.empty="",t.prototype.allow="U",t.prototype.encode=function(t){return f[this.allow](t)},t.prototype.stringifySingle=function(t,e){var r,n,o;if(n=typeof e,"string"===n||"boolean"===n||"number"===n)return e=e.toString(),this.encode(e.substring(0,t.cut||e.length));if(Array.isArray(e)){if(t.cut)throw new Error("Prefixed Values do not support lists. Check "+t.name);return e.map(this.encode).join(",")}if(t.cut)throw new Error("Prefixed Values do not support maps. Check "+t.name);return function(){var t;t=[];for(r in e)o=e[r],t.push([r,o].map(this.encode).join(","));return t}.call(this).join(",")},t.prototype.expand=function(t){var r,n,o=this;return r=e(this.params,t),n=r.map(function(t){return o._expandPair.apply(o,t)}).join(this.sep),n?this.first+n+this.suffix:this.empty&&r.length?this.empty+this.suffix:this.suffix},e=function(t,e){return t.map(function(t){return[t,e[t.name]]}).filter(function(t){var e,r,n;switch(r=t[1],typeof r){case"undefined":return!1;case"object":Array.isArray(r)&&r.length>0;for(e in r)if(n=r[e])return!0;return!1;default:return!0}})},t.prototype._expandPair=function(t,e){var r;return r=t.name,t.explode?Array.isArray(e)?this.explodeArray(t,e):"string"==typeof e?this.stringifySingle(t,e):this.explodeObject(e):this.stringifySingle(t,e)},t.prototype.explodeArray=function(t,e){return e.map(this.encode).join(this.sep)},t.prototype.explodeObject=function(t){var e,r,n,o,i,s;r=[];for(e in t)if(n=t[e],e=this.encode(e),Array.isArray(n))for(i=0,s=n.length;s>i;i++)o=n[i],r.push([e,this.encode(o)]);else r.push([e,this.encode(n)]);return r.map(function(t){return t.join("=")}).join(this.sep)},t.prototype.toString=function(){var t;return t=this.params.map(function(t){return t.name+t.explode}).join(","),"{"+this.first+t+"}"+this.suffix},t.prototype.toJSON=function(){return this.toString()},t}(),s=function(t){function e(){return this.explodeArray=_(this.explodeArray,this),this.stringifySingle=_(this.stringifySingle,this),p=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.stringifySingle=function(t,r){return r=(r=e.__super__.stringifySingle.apply(this,arguments))?"="+r:this.empty,""+t.name+r},e.prototype.explodeArray=function(t,e){var r=this;return e.map(function(e){return""+t.name+"="+r.encode(e)}).join(this.sep)},e}(l),c=function(t){function e(){return d=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.encode=function(t){return f["U+R"](t)},e.prototype.toString=function(){return"{+"+e.__super__.toString.apply(this,arguments).substring(1)},e}(l),o=function(t){function e(){return g=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.first="#",e.prototype.empty="#",e.prototype.encode=function(t){return f["U+R"](t)},e}(l),i=function(t){function e(){return y=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.first=".",e.prototype.sep=".",e.prototype.empty=".",e}(l),u=function(t){function e(){return m=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.first="/",e.prototype.sep="/",e}(l),a=function(t){function e(){return v=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.first=";",e.prototype.sep=";",e}(s),n=function(t){function e(){return b=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.first="?",e.prototype.sep="&",e.prototype.empty="=",e}(s),r=function(t){function e(){return w=e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype.first="&",e}(n),e.exports={Template:h,SimpleExpression:l,NamedExpression:s,ReservedExpression:c,FragmentExpression:o,LabelExpression:i,PathSegmentExpression:u,PathParamExpression:a,FormStartExpression:n,FormContinuationExpression:r,expression:function(t,e){var s;return new(s=function(){switch(t){case"":return l;case"+":return c;case"#":return o;case".":return i;case"/":return u;case";":return a;case"?":return n;case"&":return r}}())(e)}}}).call(this)},{"./encoders":58}],58:[function(t,e,r){(function(){var e;e=t("pct-encode"),r.U=e(/[^\w~.-]/g),r["U+R"]=e(/[^\w.~:\/\?#\[\]@!\$&'()*+,;=-]/g)}).call(this)},{"pct-encode":59}],59:[function(t,e){e.exports=function(t){return t=t||/\W/g,function(e){return e=String(e),e.replace(t,function(t){var e=t[0].charCodeAt(0),r=[];return 128>e?r.push(e):e>=128&&2048>e?(r.push(e>>6|192),r.push(63&e|128)):(r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)),r.map(function(t){return"%"+t.toString(16).toUpperCase()}).join("")})}}},{}]},{},[7]);